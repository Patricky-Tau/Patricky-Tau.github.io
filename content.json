{"posts":[{"title":"CF1311F","text":"é¢˜æ„ æ•°è½´ä¸Šæœ‰è‹¥å¹²ç‚¹ï¼Œç¬¬ \\(i\\) ä¸ªç‚¹åˆå§‹åæ ‡ä¸º \\(x_i\\)ï¼Œé€Ÿåº¦ä¸º \\(v_i\\)ã€‚\\(t\\) æ—¶åˆ»çš„åæ ‡ä¸º \\(x_i + t \\times v_i\\)ã€‚ åˆå§‹æ—¶åæ ‡ä¸¤ä¸¤ä¸åŒï¼Œé—®å¯¹äºä»»æ„ä¸¤ä¸ªç‚¹ä»»æ„æ—¶åˆ»å¯èƒ½çš„æœ€çŸ­è·ç¦» \\(d(i, j)\\) ä¹‹å’Œã€‚å³æ±‚ \\[ \\sum_{1 \\le i \\lt j \\le n} d(i, j) \\] è§£ç­” å› ä¸º \\(x\\) åˆå§‹ä¸¤ä¸¤ä¸åŒï¼Œä¸å¦¨è®¾ \\(x_i &lt; x_j\\)ã€‚è‹¥ \\(v_i \\le v_j\\)ï¼Œè·ç¦»å·®ä¸ä¼šå˜å¾—æ›´å°ï¼Œäºæ˜¯æœ€çŸ­è·ç¦»å°±æ˜¯åˆæ€çš„è·ç¦»ã€‚å¦åˆ™å¿…å®šç›¸é‡ï¼Œå³è·ç¦»å·®æœ€å°ä¸º \\(0\\)ã€‚ å› è€Œé—®é¢˜è½¬å˜ä¸ºæ»¡è¶³ \\((x_i, v_i) \\prec (x_j, v_j) \\xlongequal{\\rm equals\\;\\;to} x_i \\lt x_j \\land v_i \\le v_j\\) çš„ç‚¹ä¹‹é—´çš„è·ç¦»ã€‚ äºæ˜¯éœ€è¦ç»´æŠ¤ã€Œæ»¡è¶³ååºçš„ç‚¹å¯¹æ•°ã€åŠã€Œå…¶å„ç‚¹åˆ°åŸç‚¹çš„è·ç¦»ã€ä¸¤ä¸ªä¿¡æ¯ã€‚å¦‚æœè®¾ä¸¤éƒ¨åˆ†åˆ†åˆ«ä¸º \\(c, d\\)ï¼Œé‚£ä¹ˆç­”æ¡ˆå°±æ˜¯ \\(c \\times d_0 - d\\)ï¼Œå…¶ä¸­ \\(d_0\\) ä¸ºå½“å‰ç‚¹çš„åæ ‡ã€‚ æœ¬é¢˜ä¿è¯ \\(x\\) ä¸¤ä¸¤ä¸åŒï¼Œå› æ­¤æ˜¯æœ€åŸºç¡€çš„äºŒç»´ååºï¼Œæ— éœ€åœ¨æ’åºæ—¶åˆ†ç±»ã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;#define R ranges#define V views#define RI R::iota_viewstruct bit { int n; vector&lt;ll&gt; tr; bit(int _n) : n(_n), tr(_n + 1, 0){}; void mdf(int i, int x) { for (; i &lt;= n; i += i &amp; -i) { tr[i] += x; } } auto qry(int i) { ll ans{}; for (; i; i -= i &amp; -i) { ans += tr[i]; } return ans; }};int main() { int n; cin &gt;&gt; n; vector a(n, pair{0, 0}); vector&lt;int&gt; v(n); for (int i : RI(0, n)) { cin &gt;&gt; a[i].first; } for (int i : RI(0, n)) { cin &gt;&gt; a[i].second; v[i] = a[i].second; } R::sort(a); R::sort(v); v.resize(unique(v.begin(), v.end()) - v.begin()); // count, distance bit c(n), d(n); ll ans{}; for (int i : RI(0, n)) { int l = 1 + R::lower_bound(v, a[i].second) - v.begin(); c.mdf(l, 1); d.mdf(l, a[i].first); ans += c.qry(l) * a[i].first - d.qry(l); } cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; return 0 ^ 0;}","link":"cf/1311/f/"},{"title":"51nod1376","text":"é¢˜æ„ åºåˆ—ä¸­æœ‰å¤šå°‘ä¸ª \\(\\rm LIS\\)ï¼ˆä½ç½®ä¸åŒå°±ç®—åšä¸åŒï¼‰ï¼Ÿ https://www.51nod.com/Challenge/Problem.html#problemId=1376 è§£ç­” å¦‚æœé‡åˆ°è¿‡çš„è¯åº”è¯¥å¾ˆå®¹æ˜“ï¼Œå•çº¯æƒ³æ”¾åœ¨åšå®¢ç«™ä¸Šè€Œå·²ã€‚ ç›´æ¥è€ƒè™‘æ ‘çŠ¶æ•°ç»„åˆå¹¶ LIS çš„è¿‡ç¨‹ï¼Œæ³¨æ„æœ¬é¢˜éœ€è¦ç¦»æ•£åŒ–ã€‚ å±•å¼€å‚è€ƒä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667#include &lt;bits/stdc++.h&gt;using namespace std;static constexpr int N = 500007;static constexpr int mod = 1000000007;struct Info { int a, b; Info(int _a = 0, int _b = 0) : a(_a), b(_b) {} Info operator+=(const Info&amp; y) { if (b &lt; y.b) { return *this = y; } else if (b &gt; y.b) { return *this; } else { return *this = Info((a + y.a) % mod, b); } }};int tot, n, a[N], b[N];Info c[N];void mdf(int i, Info val) { for (; i &lt;= tot; i += i &amp; -i) { c[i] += val; }}Info qry(int i) { Info ans{}; for (; i; i -= i &amp; -i) { ans += c[i]; } return ans;}int main() { cin.tie(nullptr)-&gt;sync_with_stdio(false); int n; cin &gt;&gt; n; for (int i = 1; i &lt;= n; ++i) { cin &gt;&gt; a[i]; } copy(a + 1, a + 1 + n, b + 1); sort(b + 1, b + 1 + n); tot = unique(b + 1, b + 1 + n) - b - 1; Info ans{}; for (int i = 1; i &lt;= n; ++i) { int l = lower_bound(b + 1, b + 1 + tot, a[i]) - b; Info cur = qry(l - 1); cur.a = max(cur.a, 1); cur.b += 1; ans += cur; mdf(l, cur); } cout &lt;&lt; ans.a &lt;&lt; &quot;\\n&quot;; return 0;}","link":"51nod/1376/"},{"title":"CF1313C1","text":"é¢˜æ„ æ˜¯ CF1313C2 çš„ç®€å•ç‰ˆã€‚","link":"cf/1313/c1/"},{"title":"CF1313C2","text":"é¢˜æ„ å»ºé€ æ‘©å¤©æ¥¼ï¼Œæ¯ä¸€å—åœ°ä¸Šæœ€é«˜èƒ½å»ºé€ çš„æ‘©å¤©æ¥¼å±‚æ•° \\(a_i \\le m_i\\)ã€‚ä¸”ä¸èƒ½å‡ºç° \\(i &lt; j &lt; k \\land a_i &gt; a_j &lt; a_k\\) çš„æƒ…å†µï¼Œå³ä¸èƒ½æœ‰ã€Œä¸€å¹¢æ¥¼å·¦å³éƒ½æœ‰æ¯”ä»–é«˜çš„å¤§å¦ï¼ˆä¸å¿…ç›¸é‚»ï¼‰ã€ã€‚ æ±‚ \\(\\max \\displaystyle \\left\\{\\sum_{i = 1}^n\\{A\\}\\right\\}\\) å¯¹åº”çš„ä¸€ç»„æ–¹æ¡ˆã€‚ è§£ç­” ç­”æ¡ˆä¸€å®šå½¢å¦‚ \\(/\\backslash\\) å…ˆå•è°ƒä¸å‡ã€å†å•è°ƒä¸å¢ã€‚å‡å®šéä¹Ÿï¼Œåˆ™å¿…æœ‰è¿™æ ·çš„ç­”æ¡ˆæ˜¯æ›´ä¼˜çš„è§£ã€‚ äºæ˜¯ï¼Œå¯¹äºæ¯ä¸€ä¸ª \\(a_i\\) éƒ½éœ€è¦æ‰¾åˆ°å®ƒå·¦è¾¹æœ€è¿‘çš„ \\(j\\) ä½¿å¾— \\(a_j \\lt a_i\\)ï¼Œå³ ngeã€‚è¿™ä¸€æ®µçš„è§£å°±å¯ä»¥å…¨éƒ¨æ›´æ”¹ä¸º \\(a_i\\)ã€‚ ä¹Ÿå°±æ˜¯ä»¥ \\(i\\) ä¸ºæœ€é«˜ç‚¹çš„ä¸€æ®µç­”æ¡ˆä¸º \\(l_{[\\operatorname{nge}^L_il]} = a_i \\times (i - \\operatorname{nge}^L_i)\\)ã€‚ç”±äºä¸Šè¿°è®¨è®ºåˆ†æ®µçš„ç‰¹æ€§ï¼Œå› è€Œï¼Œå®é™…ä¸Š \\(l_i\\) æ˜¯ä¸€ä¸ªå‰ç¼€å’Œã€‚å³ \\[ l_i = a_i \\times (i - \\operatorname{nge}^L_i) + l_{\\operatorname{nge}^L_i} \\] åŒç†æœ‰ï¼Œå³åŠéƒ¨åˆ†çš„åç¼€å’Œï¼š \\[ r_i = a_i \\times (\\operatorname{nge}^R_i - i) + r_{\\operatorname{nge}^R_i} \\] ä½¿ç”¨å•è°ƒæ ˆæ±‚å¾—ä¸¤ä¸ªæ–¹å‘çš„ \\(\\operatorname{nge}\\)ã€‚ ç»¼åˆä¸¤éƒ¨åˆ†æ¥çœ‹ï¼Œä»¥ \\(i\\) ä¸ºæœ€é«˜ç‚¹çš„ç­”æ¡ˆå®é™…ä¸Šå°±æ˜¯ \\(\\color{red}\\boxed{l_i + r_i - a_i}\\)ã€‚æœ€å¤§çš„ç‚¹å³ä¸ºæ‰€æ±‚ï¼Œè®¾ä¸º \\(M\\)ã€‚ æ±‚å¾— \\(M\\) ä¹‹åï¼Œå‘å·¦å³åšåç¼€ã€å‰ç¼€æœ€å°å€¼å°±å¯ä»¥äº†ã€‚æ€è·¯å¹¶ä¸å›°éš¾ï¼Œç¼–ç æ—¶éœ€è¦ä»”ç»†ï¼Œä¸è¦å†™é”™äº†ã€‚ å±•å¼€å‚è€ƒä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;#define R ranges#define V views#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int n; cin &gt;&gt; n; vector&lt;int&gt; a(n + 1); for (int i : RI(1, n + 1)) { cin &gt;&gt; a[i]; } vector&lt;int&gt; stk(n + 1); int top{}; vector&lt;int&gt; nxt(n + 1, n + 1); for (int i : RI(1, n + 1)) { while (top &amp;&amp; a[stk[top]] &gt; a[i]) { nxt[stk[top--]] = i; } stk[++top] = i; } vector&lt;ll&gt; s(n + 1); for (int i : RI(1, n + 1) | V::reverse) { s[i] = 1LL * a[i] * (nxt[i] - i) + s[nxt[i]]; } top = 0; vector&lt;int&gt; pre(n + 1); for (int i : RI(1, n + 1) | V::reverse) { while (top &amp;&amp; a[stk[top]] &gt; a[i]) { pre[stk[top--]] = i; } stk[++top] = i; } vector&lt;ll&gt; p(n + 1); for (int i : RI(1, n + 1)) { p[i] = 1LL * a[i] * (i - pre[i]) + p[pre[i]]; } vector&lt;ll&gt; dp(n + 1); for (int i : RI(1, n + 1)) { dp[i] = p[i] + s[i] - a[i]; } int M = R::max_element(dp | V::drop(1)) - dp.begin(); vector&lt;int&gt; ans(n + 1); for (int pre = a[M]; int i : RI(1, M) | V::reverse) { ans[i] = (pre = min(pre, a[i])); } for (int pre = a[M]; int i : RI(M + 1, n + 1)) { ans[i] = (pre = min(pre, a[i])); } ans[M] = a[M]; R::copy(ans | V::drop(1), ostream_iterator&lt;int&gt;(cout, &quot; &quot;)); return 0;}","link":"cf/1313/c2/"},{"title":"CF1407D","text":"é¢˜æ„ æœ‰ \\(n\\) ä¸ªç‚¹ï¼Œæ¯ä¸ªç‚¹å…·æœ‰é«˜åº¦ \\(h_i\\)ã€‚å¦‚æœå¯ä»¥ä» \\(i\\) è·³åˆ° \\(j\\;(i \\lt j)\\)ï¼Œåˆ™è¦ä¹ˆç›¸é‚»ã€è¦ä¹ˆä¸­é—´æ‰€æœ‰å…ƒç´ æ¯” \\(h_i, h_j\\) éƒ½é«˜æˆ–è€…éƒ½ä½ã€‚é—®ä» \\(1\\) è·³åˆ° \\(n\\) çš„æœ€å°æ­¥æ•°ã€‚ è§£ç­” ç›¸é‚»ç‚¹æ›´æ–°ï¼šdp[i] = dp[i - 1] + 1ã€‚ åä¸¤è€…å®é™…ä¸Šéœ€è¦æ‰¾åˆ°ã€Œæœ€è¿‘æ›´å¤§/å°å…ƒç´ ã€ï¼ˆå³ ngeï¼‰ï¼Œè¿™æ˜¯å•è°ƒæ ˆçš„åŸºæœ¬é—®é¢˜ã€‚è®¾å½“å‰æšä¸¾åˆ° \\(h_i\\)ï¼Œä» nge è·³è¿‡æ¥å°±å¯ä»¥äº†ã€‚ 123456789// ä¸€ç›´å‘å‰æ‰¾while (t1 &amp;&amp; a[i] &gt;= a[s1[t1]]) { // ç›¸ç­‰: ç”¨æœ€åä¸€ä¸ªç‚¹ i ç›´æ¥è¦†ç›–å‰é¢çš„, ä¸ç”¨ç®¡ if (int x = s1[t1--]; a[i] != a[x] &amp;&amp; t1) { dp[i] = min(dp[i], dp[s1[t1]] + 1); }}// ç›¸ç­‰s1[++t1] = i; å±•å¼€å‚è€ƒä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;#define R ranges#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int n; cin &gt;&gt; n; vector a(n, 0); for (int i : RI(0, n)) { cin &gt;&gt; a[i]; } vector dp(n, numeric_limits&lt;int&gt;::max()); vector s1(n + 1, 0), s2(n + 1, 0); int t1{}, t2{}; s1[++t1] = s2[++t2] = dp[0] = 0; for (int i : RI(1, n)) { dp[i] = dp[i - 1] + 1; while (t1 &amp;&amp; a[i] &gt;= a[s1[t1]]) { if (int x = s1[t1--]; a[i] != a[x] &amp;&amp; t1) { dp[i] = min(dp[i], dp[s1[t1]] + 1); } } s1[++t1] = i; while (t2 &amp;&amp; a[i] &lt;= a[s2[t2]]) { if (int x = s2[t2--]; a[i] != a[x] &amp;&amp; t2) { dp[i] = min(dp[i], dp[s2[t2]] + 1); } } s2[++t2] = i; } cout &lt;&lt; dp.back() &lt;&lt; &quot;\\n&quot;; return 0 ^ 0;}","link":"cf/1407/d/"},{"title":"CF1320C","text":"é¢˜æ„ ä»è‹¥å¹²å‰‘ä¸ç›¾ä¸­å„ä¹°ä¸€æŠŠï¼Œå†³å®šä½ çš„ ğŸ—¡ï¸ æ”»å‡»åŠ›ä¸ ğŸ›¡ é˜²å¾¡åŠ›ã€‚éšåè®¨ä¼è‹¥å¹² ğŸ‘¾ã€‚å¦‚æœæ”»å‡»åŠ›ã€é˜²å¾¡åŠ›éƒ½å¤§äºæŸ ğŸ‘¾ï¼Œå°†è·å¾—å¯¹åº”çš„ ğŸ’° èµé‡‘ã€‚æ±‚æœ€å¤§åˆ©ç›Šï¼Œå³è·å¾—çš„èµé‡‘å‡å»è´­ä¹°æ­¦å™¨çš„èŠ±è´¹ã€‚ å‰‘ã€ç›¾ã€æ€ªå…½çš„æ•°é‡å‡ä½äº \\(2 \\times 10 ^ 5\\) ğŸ‘¾ çš„ ğŸ—¡ï¸ æ”»å‡»åŠ›å’Œ ğŸ›¡ é˜²å¾¡åŠ›å‡ \\(\\le 10 ^ 6\\) è€Œå‹‡å£«çš„å‡ä½äº \\(10 ^ 9\\) ğŸ’° æ”¶ç›Š \\(\\le 10 ^ 3\\) è§£ç­” .WAV { text-decoration-style: dotted; } ä¾ç„¶æ˜¯äºŒç»´ååºé—®é¢˜ï¼Œä½†æœ¬é¢˜å¹¶ä¸ç›´æ¥æ•°ç‚¹ã€‚è€Œæ˜¯å¯¹äºå›ºå®šçš„ \\(a\\) å¯»æ‰¾ä½¿å¾—åˆ©ç›Šæœ€å¤§åŒ–çš„ \\(d\\)ã€‚å…¶ä¸­ \\(a, d\\) ä¸ºæ”»å‡»åŠ›attackå’Œé˜²å¾¡åŠ›defenseã€‚ä¸ºæ–¹ä¾¿è€ƒè™‘ï¼Œé¦–å…ˆå¯¹äºæ•°æ®ä¸è¯¢é—®éƒ½æŒ‰ç…§ \\(a\\) æ’åºï¼ŒåŒæ—¶æ³¨æ„åˆ°æ€ªå…½å…¨ä½“æ”»é˜²åŠ›éƒ½ä¸å¤§ï¼Œå¯ä»¥å…å»ç¦»æ•£åŒ–ã€‚ å¯¹äºæ¯ä¸ª \\(d\\) éƒ½èƒ½ä½¿ç”¨äºŒåˆ†æ±‚å‡ºæœ€å°èƒ½æ‰“è´¥æ€ªå…½çš„é˜²å¾¡å€¼ \\(d\\)ï¼Œé€‰å–æœ€å¤§çš„æ”¶ç›Šã€‚å¯¹äºä»»ä½•å¤§äºå½“å‰ \\((a, d)\\) çš„ç»„åˆéƒ½å¯åŠ ä¸Šæ­¤è´¡çŒ®ã€‚å³åŒºé—´åŠ æ•° + åŒºé—´æœ€å¤§å€¼è¯¢é—®ï¼Œä¸Šçº¿æ®µæ ‘ã€‚ CF1320C.cpp >folded123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109// g++ CF1320C.cpp -std=c++23 -Os -o CF1320C#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;const int maxn = 2E5 + 5;const ll INF = 1E18;int n, m, p;array&lt;ll, 2&gt; a[maxn], d[maxn];array&lt;ll, 3&gt; q[maxn];struct segment { int l, r; ll max, tag;} T[maxn &lt;&lt; 2];#define ls i &lt;&lt; 1#define rs ls | 1auto pushup(int i) { T[i].max = max(T[ls].max, T[rs].max);}void build(int i, int l, int r) { if (T[i] = {.l = l, .r = r}; l == r) { T[i].max = -d[l][1]; return; } int mid = (l + r) / 2; build(ls, l, mid); build(rs, mid + 1, r); pushup(i);}void pushdn(int i) { if (T[i].tag) { T[ls].max += T[i].tag; T[rs].max += T[i].tag; T[ls].tag += T[i].tag; T[rs].tag += T[i].tag; T[i].tag = 0; }}void upd(int i, int l, int r, int k) { if (T[i].l &gt;= l &amp;&amp; T[i].r &lt;= r) { T[i].max += k; T[i].tag += k; return; } pushdn(i); int mid = (T[i].l + T[i].r) / 2; if (l &lt;= mid) { upd(ls, l, r, k); } if (r &gt; mid) { upd(rs, l, r, k); } pushup(i);}int main() { cin.tie(nullptr)-&gt;sync_with_stdio(false); cin &gt;&gt; n &gt;&gt; m &gt;&gt; p; for (int i = 1; i &lt;= n; i++) { cin &gt;&gt; a[i][0] &gt;&gt; a[i][1]; } for (int i = 1; i &lt;= m; i++) { cin &gt;&gt; d[i][0] &gt;&gt; d[i][1]; } for (int i = 1; i &lt;= p; i++) { cin &gt;&gt; q[i][0] &gt;&gt; q[i][1] &gt;&gt; q[i][2]; } sort(d + 1, d + 1 + m); sort(a + 1, a + 1 + n); sort(q + 1, q + 1 + p); build(1, 1, m); ll l = 1, ans = -INF; // å›ºå®šæ”»å‡»åŠ› for (int i = 1; i &lt;= p &amp;&amp; l &lt;= n; i++) { // è·³è¿‡æ‰€æœ‰ (a, d) æ‰“ä¸è¿‡æ€ªå…½çš„ç‚¹ while (l &lt;= n &amp;&amp; q[i][0] &gt;= a[l][0]) { ans = max(ans, T[1].max - a[l++][1]); } // æ‰¾åˆ°æœ€å°èƒ½æ‰“æ‰æ€ªå…½çš„ d éšåå°†åç»­åŒºé—´ [g, m] éƒ½åŠ ä¸Š q[i][2] if (int g = lower_bound(d + 1, d + 1 + m, array&lt;ll, 2&gt;{q[i][1], {}}) - d; g &lt;= m) { upd(1, g, m, q[i][2]); } } for (int i = l; i &lt;= n; i++) { ans = max(ans, T[1].max - a[i][1]); } cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; return 0;}","link":"cf/1320/c/"},{"title":"CF1579E1","text":"é¢˜æ„ ç»™å®šä¸€ä¸ªæ’åˆ— \\(\\{P\\}_n\\)ï¼ŒæŒ‰ç…§é¡ºåºå‘åŒç«¯é˜Ÿåˆ—çš„å¤´æˆ–è€…å°¾æ’å…¥å…ƒç´ ï¼Œé—®èƒ½å¾—åˆ°çš„å­—å…¸åºæœ€å°çš„åŒç«¯é˜Ÿåˆ—ã€‚ è§£ç­” ç”¨ä¸€ä¸ªåŒç«¯é˜Ÿåˆ— std::deque æ¨¡æ‹Ÿã€‚å¦‚æœå½“å‰çš„é˜Ÿé¦–æ¯”æ–°å¢åŠ çš„å…ƒç´ å¤§ï¼Œå°±å°†å…ƒç´ æ’å…¥é˜Ÿé¦–ï¼›å¦åˆ™æ’å…¥é˜Ÿå°¾ã€‚ å±•å¼€å‚è€ƒä»£ç  12345678910111213141516171819202122232425262728293031#include &lt;bits/stdc++.h&gt;using namespace std;#define R ranges#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int tests; cin &gt;&gt; tests; while (tests--) { int n; cin &gt;&gt; n; deque&lt;int&gt; dq; for (int x; int i : RI(0, n)) { cin &gt;&gt; x; if (dq.empty() || dq.front() &lt; x) { dq.push_back(x); } else if (dq.front() &gt; x) { dq.push_front(x); } } for (int i : RI(0, n)) { cout &lt;&lt; dq[i] &lt;&lt; &quot; \\n&quot;[i + 1 == n]; } } return 0 ^ 0;}","link":"cf/1579/e1/"},{"title":"CF1579E2","text":"é¢˜æ„ ç»™å®šä¸€ä¸ªåºåˆ— \\(\\{A\\}_n\\)ï¼ŒæŒ‰ç…§é¡ºåºå‘åŒç«¯é˜Ÿåˆ—çš„å¤´æˆ–è€…å°¾æ’å…¥å…ƒç´ ï¼Œé—®èƒ½å¾—åˆ°çš„é€†åºå¯¹æ•°æœ€å°çš„åŒç«¯é˜Ÿåˆ—ã€‚ \\(1 \\le n \\le 2 \\times 10 ^ 5\\) \\(-10 ^ 9 \\le a_i \\le 10 ^ 9\\) è§£ç­” ä¸ /cf/1579/e1/æ€è·¯æ˜¯ç±»ä¼¼çš„ã€‚ è€ƒè™‘åˆ°æ”¾å¤´å°¾åˆ†åˆ«çš„è´¡çŒ®ä¼šå¯¹ä¸‹ä¸€é˜¶æ®µçš„å†³ç­–äº§ç”Ÿå½±å“ï¼ˆé€†åºå¯¹æ•°å˜äº†ï¼‰ï¼Œä½†å†³ç­–æ–¹å¼æ˜¯ä¸€æ ·çš„ï¼ˆæ–°å¢çš„å…ƒç´ å¯¹é€†åºå¯¹æ•°çš„å½±å“ä»…é™äºåŸæ¥çš„å…ƒç´ ï¼‰ï¼Œå³åªéœ€åˆ†åˆ«åˆ¤å®šæ”¾å¤´å°¾å“ªä¸ªæ›´å°ã€‚ å…ƒç´ å¾ˆå¤§ï¼Œéœ€è¦ç¦»æ•£åŒ–ã€‚ å±•å¼€å‚è€ƒä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;#define R ranges#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int tests; cin &gt;&gt; tests; while (tests--) { int n; cin &gt;&gt; n; vector a(n, 0); for (int i : RI(0, n)) { cin &gt;&gt; a[i]; } // ç¦»æ•£åŒ–è¶…ç®€æ´å†™æ³• auto b {a}; R::sort(b); b.resize(unique(b.begin(), b.end()) - b.begin()); struct bit { int n; vector&lt;int&gt; tr; bit(int _n) : n(_n), tr(_n + 1, 0){}; void mdf(int i, int x) { for (; i &lt;= n; i += i &amp; -i) { tr[i] += x; } } int qry(int i) { int ans{}; for (; i; i -= i &amp; -i) { ans += tr[i]; } return ans; } } g(b.size()); ll ans{}; for (int i : RI(0, n)) { int l = 1 + R::lower_bound(b, a[i]) - b.begin(); g.mdf(l, 1); // [0, l), [l, m] ans += min(g.qry(l - 1), g.qry(b.size()) - g.qry(l)); } cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; } return 0 ^ 0;}","link":"cf/1579/e2/"},{"title":"CF1712A","text":"é¢˜æ„ åœ¨æ’åˆ— \\(\\{P\\}\\) ä¸Šè¿›è¡Œè‹¥å¹²æ¬¡äº¤æ¢ï¼Œä½¿å¾—å‰ \\(k\\) é¡¹ä¹‹å’Œæœ€å°çš„æ“ä½œæ¬¡æ•°ï¼Ÿ è§£ç­” ç”±äºæ˜¯æ’åˆ—ï¼Œå°† \\(1 \\sim k\\) çš„å…ƒç´ æ¢åˆ°å‰ \\(k\\) å³å¯ã€‚ å±•å¼€å‚è€ƒä»£ç  1234567891011121314151617181920#include &lt;bits/stdc++.h&gt;using namespace std;using namespace std::placeholders;int main() { ios::sync_with_stdio(!cin.tie(0)); int tests; cin &gt;&gt; tests; while (tests--) { int n, k; cin &gt;&gt; n &gt;&gt; k; vector a(n, 0); for (int &amp; i: a) { cin &gt;&gt; i; } cout &lt;&lt; ranges::count_if(a | views::take(k), bind(greater {}, _1, k)) &lt;&lt; &quot;\\n&quot;; } return 0;} Bonus åˆ†åˆ«ç»™å‡º \\(1 \\sim k\\) çš„ç­”æ¡ˆã€‚ Solution å¦‚æœä¾ç„¶æ˜¯æ’åˆ—ï¼Œé‚£ä¹ˆç»“è®ºä¸å˜ã€‚å¯¹å‰ç¼€ \\(1 \\sim x\\) ä¸­å‡ºç°çš„ \\(1 \\sim x\\) çš„æ•°çš„æ•°é‡è¿›è¡Œè¯¢é—®æ˜¯æ•°çŠ¶æ•°ç»„çš„åŸºæœ¬é—®é¢˜ã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;bits/stdc++.h&gt;using namespace std;#define R std::ranges#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int tests; cin &gt;&gt; tests; while (tests--) { int n, k; cin &gt;&gt; n &gt;&gt; k; vector a(n, 0); for (int &amp; i: a) { cin &gt;&gt; i; } struct bit { int n; vector &lt; int &gt; tr; bit(int _n): n(_n + 1), tr(_n + 1, 0) {}; auto qry(int p) { int res {}; for (int i = p; i; i -= i &amp; -i) { res += tr[i]; } return res; } void mdf(int p, int x) { for (int i = p; i &lt;= n; i += i &amp; -i) { tr[i] += x; } } } g(n); for (int i: RI(0, k)) { g.mdf(a[i], 1); cout &lt;&lt; i + 1 - g.qry(i + 1) &lt;&lt; &quot; \\n&quot; [i + 1 == k]; } } return 0;}","link":"cf/1712/a/"},{"title":"CF1712B","text":"é¢˜æ„ æ„é€ æ’åˆ— \\(\\{P\\}\\) ä½¿å¾— \\(\\displaystyle \\sum_{i = 1} ^ n \\operatorname{lcm}(i, P_i)\\) å°½å¯èƒ½å¤§ã€‚ è§£ç­” ä¸€ä¸ªå•çº¯çš„æƒ³æ³•æ˜¯ï¼šæŒ‰ç…§å¥‡å¶æ€§åˆ†å¼€ã€‚å› ä¸º \\(\\operatorname{lcm}(2j, 2k) = 2jk\\) ä½†å¦‚æœå’Œå¥‡æ•° \\(\\operatorname{lcm}\\) å°±ä¸ä¼šæµªè´¹æ‰ \\(2\\)ã€‚ æ ¹æ® \\(\\operatorname{lcm}(i, i + 1) = i \\times (i + 1)\\)ã€‚ç»™å‡ºæ„é€ ï¼Œç­”æ¡ˆä¸ºï¼š \\[ \\begin{aligned} &amp; \\left \\{ \\begin{aligned} &amp;\\operatorname{lcm}(1, 1) &amp;\\mathrm{\\;if\\;} n \\equiv 1 \\pmod 2\\\\ 2 \\times &amp;\\operatorname{lcm}(1, 2) &amp;\\mathrm{otherwise} \\end{aligned} \\right . + 2 \\times \\operatorname{lcm}(i, i + 1) + \\cdots + 2 \\times \\operatorname{lcm}(n, n - 1)\\\\ =&amp;\\quad \\color{red}\\boxed{\\dfrac{n(n + 1)(2n + 1)}{6} - \\left\\lfloor\\dfrac{n}{2}\\right\\rfloor} \\end{aligned} \\] è¿›è¡Œä»»æ„å¯¹æ¢éƒ½å°†ç ´åç³»æ•° \\(2\\)ï¼Œå¹¶ä¸”åªä¼šæ›´å°ã€‚è¿™æ ·å°±è¯´æ˜äº†ç­”æ¡ˆä¸ä¼šæ›´å¤§ã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415161718192021#include &lt;bits/stdc++.h&gt;using namespace std;int main() { ios::sync_with_stdio(!cin.tie(0)); int tests; cin &gt;&gt; tests; while (tests--) { int n; cin &gt;&gt; n; vector a(n, 0); iota(a.begin(), a.end(), 1); for (int i = n % 2; i &lt; n; i += 2) { swap(a[i], a[i + 1]); } ranges::copy(a, ostream_iterator&lt;int&gt;(cout, &quot; &quot;)); cout &lt;&lt; &quot;\\n&quot;; } return 0;}","link":"cf/1712/b/"},{"title":"CF1712C","text":"é¢˜æ„ ç»™å®šæ­£æ•´æ•°åºåˆ—ï¼Œå¯ä»¥å°†æŸä¸€ç­‰å€¼çš„å…ƒç´ å…¨æ”¹æˆ \\(0\\)ã€‚é—®ä½¿å¾—åºåˆ—éé€’å‡çš„æœ€å°‘æ¬¡æ•°ã€‚ è§£ç­” ä¸€äº›äº‹å®ï¼š æœ€åçš„åºåˆ—ä¸­ï¼Œå…ƒç´ æ€»æ˜¯æˆå—å‡ºç°ã€‚ å¦‚æœåŸæ•°ç»„ä¸æ»¡è¶³ç¬¬ \\(1\\) æ¡ï¼Œé‚£ä¹ˆæœ€åçš„æ•°ç»„å‰ç¼€æœ‰è‹¥å¹² \\(0\\)ã€‚ ä»å‰å‘åæ‰«æï¼Œé‡åˆ°æŸä¸ªåç¼€è¿˜æœªæœ‰åºï¼Œåˆ™è¡¨æ˜å½“å‰ç‚¹çš„æ•°åº”å½“å˜ä¸º \\(0\\)ï¼Œç›´åˆ°è¯¥å…ƒç´ çš„æœ€åä¸€æ¬¡å‡ºç°ã€‚ å±•å¼€å‚è€ƒä»£ç  1234567891011121314151617181920212223242526272829303132333435363738#include &lt;bits/stdc++.h&gt;using namespace std;#define R ranges#define V views#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int tests; cin &gt;&gt; tests; while (tests--) { int n; cin &gt;&gt; n; vector a(n + 1, 0), b { a }, c { a }; for (int i: RI(1, n + 1)) { cin &gt;&gt; a[i]; b[a[i]] = i; } vector s(n + 1, false); s[n] = true; for (int i: RI(1, n) | V::reverse) { s[i] = s[i + 1] &amp; (a[i] &lt;= a[i + 1]); } int ans {}, pos {}; for (int i: RI(1, n + 1)) if (!c[a[i]]) { // æœªè¢«ç§»é™¤ if (pos &lt; i &amp;&amp; s[i]) { // å¥½è€¶! åé¢å·²ç»æœ‰åº break; } ans += c[a[i]] = 1; // åˆ æ‰è¿™ä¸ªå…ƒç´  pos = max(pos, b[a[i]]); // ç›´åˆ°æœ€åä¸€æ¬¡å‡ºç° } cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; } return 0;}","link":"cf/1712/c/"},{"title":"CF1712D","text":"é¢˜æ„ é€ å‡ºå®Œå…¨å›¾ï¼Œè¾¹é•¿ä¸º \\(\\min\\limits_{i = l}^r a_i\\)ã€‚ é—®è‡³å¤šä¿®æ”¹ \\(k\\) æ¬¡ä»»æ„ \\(a_i\\) åï¼Œå¯èƒ½å¾—åˆ°çš„æœ€é•¿ç›´å¾„ï¼ˆæœ€å¤§å¶é—´è·ï¼‰é•¿ã€‚ æ¯æ¬¡ä¿®æ”¹æˆ \\([1, 10 ^ 9]\\) çš„æ•°å­—ã€‚ è§£ç­” è®¾ \\(x\\) ä¸ºå¯èƒ½çš„è§£ï¼Œé‚£ä¹ˆå­˜åœ¨è‹¥å¹² \\(&lt; x\\) çš„è§£ï¼ŒäºŒåˆ†æ€§è´¨æ˜¯æ»¡è¶³çš„ã€‚ å¤šä¸ªæ•°åš \\(\\min\\) æ“ä½œä¸ä¼šæ¯”ä¸¤ä¸ªæ•°åš \\(\\min\\) æ›´å¥½ã€‚å› æ­¤ç›´å¾„ç«¯ç‚¹ä¸€å®šæ˜¯ä¸¤ç›¸é‚»å…ƒç´ ã€‚è¿™æ ·çš„è·¯å¾„æœ‰ä¸¤ç§ï¼ˆå½“ç„¶ï¼Œå¯ä»¥çœ‹ä½œä»…æœ‰åè€…ï¼‰ï¼š ä¸­é€”æ²¡æœ‰ç»è¿‡ç‚¹ã€‚è¿™ç§æƒ…å†µä¸‹åªéœ€è¦ä¿®æ”¹ä¸¤ç«¯ç‚¹ã€‚ ä¸­é—´ç»è¿‡è‹¥å¹²ç‚¹ã€‚æ­¤æƒ…å½¢ä¸‹çš„ç›´å¾„ä¸º \\(2 \\times\\) ä¸­é—´çš„æœ€å°å€¼ï¼ˆèµ°åˆ°å‰/åé¢çš„æŸä¸ªç‚¹å†å›å»ï¼‰ï¼Œéœ€è¦ä¿®æ”¹ä¸­é€”æ‰€æœ‰ \\(2 a_i \\lt x\\) çš„ç‚¹ï¼Œéœ€è¦ç”¨å‰ç¼€å’Œã€åç¼€å’Œåˆ†åˆ«è®°ä¸‹è¿™æ ·çš„ç‚¹ã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;bits/stdc++.h&gt;using namespace std;#define R ranges#define V views#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int tests; cin &gt;&gt; tests; while (tests--) { int n, k; cin &gt;&gt; n &gt;&gt; k; vector a(n + 1, 0); for (int i: RI(1, n + 1)) { cin &gt;&gt; a[i]; } int l{1}, r{ 1'000'000'000 }; while (l &lt; r) { auto mid { midpoint(l + 1, r) }; if ([ &amp; ]() -&gt; bool { vector p(n + 2, 0), s(n + 2, 0); // prefix and suffix for (int i: RI(1, n + 1)) { p[i] = p[i - 1] + (a[i] * 2 &lt; mid); } for (int i: RI(1, n + 1) | V::reverse) { s[i] = s[i + 1] + (a[i] * 2 &lt; mid); } for (int i: RI(1, n)) { if (p[i - 1] + s[i + 2] + (a[i] &lt; mid) + (a[i + 1] &lt; mid) &lt;= k) { return true; } } return {}; }()) { l = mid; } else { r = mid - 1; } } cout &lt;&lt; l &lt;&lt; &quot;\\n&quot;; } return 0;}","link":"cf/1712/d/"},{"title":"CF1712E1","text":"é¢˜æ„ æ˜¯ CF1712E2 çš„ç®€å•ç‰ˆã€‚","link":"cf/1712/e1/"},{"title":"CF1712E2","text":"é¢˜æ„ \\[ \\displaystyle{\\sum_{i = l}^r \\sum _{j &gt; i}^r \\sum_{k &gt; j}^r}\\Big [ \\operatorname{lcm}(i, j, k) \\ge i + j + k \\Big] = \\;? \\] \\(1 \\le l \\lt r \\le 2 \\times 10 ^ 5.\\) è§£ç­” æ€§è´¨ä¸€èˆ¬ï¼Œä¸”è¿™æ ·çš„ä¸‰å…ƒç»„ååˆ†å¤šã€‚åè¿‡æ¥å´ååˆ†å°‘ï¼ŒåŒæ—¶ä¹Ÿå¯å……åˆ†åˆ©ç”¨æ•´é™¤ååºï¼Œäºæ˜¯æ±‚ï¼š \\[ \\displaystyle\\binom{r - l}{3} - \\displaystyle{\\sum_{i = l}^r \\sum _{j &gt; i}^r \\sum_{k &gt; j}^r} \\Big [ \\operatorname{lcm}(i, j, k) \\color{red}{\\;&lt;\\;} \\color{black} i + j + k \\Big]. \\] ä¸ºå™è¿°æ–¹ä¾¿ï¼Œ\\(\\sout{\\verb|\\operatorname{lcm}(i, j, k)|}\\) å®åœ¨å¤ªéš¾æ‰“äº† ä»¤ \\(x := \\operatorname{lcm}(i, j, k)\\)ã€‚ è‡ªç„¶æœ‰ \\(x \\color{red}{\\;\\lt\\;} \\color{black} 3k\\)ï¼Œå³ \\(x = k \\cup x = 2k\\)ï¼š \\(x = k\\) æ˜¯å¥½æ»¡è¶³çš„ï¼Œåªéœ€è¦ä¿è¯ \\(i \\mid k \\cap j \\mid k\\)ã€‚ \\(x = 2k\\) éœ€è¦ \\(i \\mid x \\cap j \\mid x \\cap i + j &gt; k\\)ã€‚ \\(j := \\dfrac{2k}{p} \\Rightarrow \\dfrac{k}{2} \\lt \\dfrac{2k}{p} \\lt k \\Rightarrow 2 \\lt p \\lt 4 \\Rightarrow p = 3\\)ã€‚å³ \\(\\color{red}\\boxed{ j = \\dfrac{2k}{3} }\\) ç±»ä¼¼æœ‰ \\(i := \\dfrac{2k}{q} \\Rightarrow \\dfrac{2k}{3} \\gt \\dfrac{2k}{q} \\gt k - j = \\dfrac{k}{3}\\) \\(\\Rightarrow 3 \\lt q \\lt 6 \\Rightarrow \\color{red} \\boxed{ i = \\dfrac{k}{2} \\cup i = \\dfrac{2k}{5}}\\) ç»¼ä¸Šï¼Œç­”æ¡ˆå½¢å¦‚ \\((3, 4, 6)\\) æˆ– \\((6, 10, 15).\\) åœ¨é¢„å¤„ç†çš„æ—¶å€™å°±å¯ä»¥å¾—åˆ°ã€‚ å¦å¤–æ£˜æ‰‹çš„é—®é¢˜æ˜¯åŒºé—´è¯¢é—®ï¼Œå¤šç»„è¯¢é—®ï¼Œå¯ä»¥ä»å°åŒºé—´æ‹“å±•åˆ°å¤§åŒºé—´ï¼Œè¿™æ ·èŠ‚çœä¸‹æ¥è®¸å¤šæ—¶é—´ã€‚å…·ä½“æ¥è¯´ï¼Œå›ºå®šå³ç«¯ç‚¹ï¼Œä» \\(N\\) ä¸æ–­å‡å°‘åˆ°å·¦ç«¯ç‚¹ï¼Œå°†ç»è¿‡çš„æ‰€æœ‰å¤§äº \\(r\\) çš„ç‚¹æŒ‰ç…§å€æ•°éå†çš„æ–¹å¼æ ‡è®°å‡ºæ¥ï¼Œç›´åˆ°ä¸‹é™åˆ°å·¦ç«¯ç‚¹ \\(l\\)ã€‚ \\(r\\) å·¦è¾¹çš„æ‰€æœ‰æ ‡è®°çš„ç‚¹åŠ èµ·æ¥å°±æ˜¯ä¸åˆæ³•çš„æƒ…å†µã€‚å¯è§æ•´ä¸ªè¿‡ç¨‹éœ€è¦å•ç‚¹ä¿®æ”¹åŒºé—´æ±‚å’Œï¼Œæ ‘çŠ¶æ•°ç»„æ°èƒ½èƒœä»»ã€‚ å±•å¼€å‚è€ƒä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;#define R ranges#define V views#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int t; cin &gt;&gt; t; vector qry(t, tuple { 0, 0, 0 }); vector ans(t, 0 LL); for (int i: RI(0, t)) { int l, r; cin &gt;&gt; l &gt;&gt; r; qry[i] = { --l, r, i }; auto len { 1 LL * r - l }; ans[i] = len * (len - 1) * (len - 2) / 6 - max(0, r / 6 - l / 3) - max(0, r / 15 - l / 6); } R::sort(qry | V::reverse); int N = 200'001; struct bit { int n; vector &lt;ll&gt; tr; bit(int _n): n(_n + 1), tr(_n + 1, 0) {}; auto qry(int p) { ll res {}; for (int i = p; i; i -= i &amp; -i) { res += tr[i]; } return res; } void mdf(int p, int x) { for (int i = p; i &lt;= n; i += i &amp; -i) { tr[i] += x; } } } g(N); vector c(N, 0); // cnt for (auto[l, r, i]: qry) { // static å˜é‡æ–¹ä¾¿ä¸‹ä¸€æ¬¡è¯¢é—®æ¥åŠ›è·‘ for (static int cur { N }; cur &gt; l; --cur) { for (int j = cur * 2; j &lt;= N; j += cur) { g.mdf(j, c[j]++); } } ans[i] -= g.qry(r); } R::copy(ans, ostream_iterator&lt;ll&gt;{cout, &quot;\\n&quot;}); return 0;}","link":"cf/1712/e2/"},{"title":"CF1717A","text":"é¢˜æ„ è®¡ç®—æ»¡è¶³ \\(\\dfrac{\\operatorname{lcm}(a, b)}{\\gcd(a, b)} \\le 3\\) çš„ \\((a, b)\\) å¯¹å­æ•°é‡ã€‚å…¶ä¸­ \\(1 \\le a, b \\le N\\) ã€‚ è§£ç­” ç†ŸçŸ¥ \\(\\operatorname{LHS} = \\prod\\limits_{i = 1}^kp_i^{\\max\\{\\alpha_i, \\beta_i\\} - \\min\\{\\alpha_i, \\beta_i\\}}\\)ã€‚ä¸å¦¨å°†æ¯ä¸€é¡¹éƒ½å¯¹æ¢ï¼Œä½¿å¾— \\(a\\) ä¸­çš„æ¯ä¸€ä¸ª \\(\\alpha_i\\) éƒ½ä¸å°äº \\(b\\) ä¸­çš„ \\(\\beta_i\\)ã€‚ äºæ˜¯æœ‰ \\(\\dfrac{a'}{b'} \\le 3\\)ï¼Œè€ƒè™‘ä¸Šè¿°æ“ä½œçš„é¡ºåºå½±å“ï¼Œç­”æ¡ˆå½¢å¦‚ \\((x, x), (x, 2x)_{cyc}, (x, 3x)_{cyc}\\)ã€‚å³ç­”æ¡ˆä¸ºï¼š \\[ \\Bigg\\lfloor\\frac{N}{1}\\Bigg\\rfloor + \\Bigg\\lfloor\\frac{N}{2}\\Bigg\\rfloor\\times2 + \\Bigg\\lfloor\\frac{N}{3}\\Bigg\\rfloor\\times2 \\] CF1717A.cpp >folded12345678910111213141516171819#include &lt;iostream&gt;auto main() -&gt; int { ::std::ios::sync_with_stdio( not ::std::cin.tie(nullptr) ); int tests; ::std::cin &gt;&gt; tests; while (tests --) { int64_t N; ::std::cin &gt;&gt; N; ::std::cout &lt;&lt; (N + N / 2 * 2 + N / 3 * 2) &lt;&lt; &quot;\\n&quot;; } return 0;}","link":"cf/1717/A/"},{"title":"CF1717B","text":"é¢˜æ„ æ„é€ ä¸€ä¸ª \\(n \\times n\\) çš„çŸ©é˜µï¼Œä½¿å¾—ä»» \\(k,\\;(k \\mid n)\\) ä¸ªç›¸é‚»çš„æ ¼å­ä¸­éƒ½è‡³å°‘åŒ…å«ä¸€ä¸ª Xï¼ŒåŒæ—¶é™å®š \\((r, c)\\) ä½ç½®ä¸Šä¸º Xã€‚ æ„é€  X æ•°é‡æœ€å°‘çš„æ–¹æ¡ˆã€‚ è§£ç­” å¦‚æœæ²¡æœ‰ \\((r, c)\\) è¿™ä¸€é™åˆ¶çš„è¯ï¼Œåªéœ€æ¶‚æ»¡å¯¹è§’çº¿ï¼Œç­”æ¡ˆä¸º \\(\\dfrac{n ^ 2}{k}\\)ã€‚è€Œå¦‚æœåŠ å…¥æ­¤é™åˆ¶ï¼Œåˆ™å¯ä»¥å°†å¯¹è§’çº¿ç§»åŠ¨ï¼Œç›´è‡³å…¶åŒ…å« \\((r, c)\\)ã€‚äºæ˜¯ï¼Œä»å¯¹è§’çº¿å¯¹åº”çš„ \\(y = x\\) è½¬å˜ä¸º \\(y - c = x + r\\)ï¼Œé‚£ä¹ˆç­”æ¡ˆå°±æ˜¯æ‰€æœ‰æ¨¡ \\(k\\) åŒä½™ \\(r + c\\) çš„ç‚¹äº†ã€‚ CF1717B.cpp >folded123456789101112131415161718192021222324252627#include &lt;iostream&gt;#include &lt;ranges&gt;#include &lt;string&gt;auto main() -&gt; int { ::std::ios::sync_with_stdio( not ::std::cin.tie(nullptr) ); int tests; ::std::cin &gt;&gt; tests; while (tests --) { int N, K, R, C; ::std::cin &gt;&gt; N &gt;&gt; K &gt;&gt; R &gt;&gt; C; auto M = (R + C) % K; for (int i : ::std::ranges::iota_view(1, N + 1)) { ::std::string x(N + 1, 'x'); for (int j : ::std::ranges::iota_view(1, N + 1)) { x[j] = &quot;.X&quot;[(i + j) % K == M]; } ::std::cout &lt;&lt; x.substr(1) &lt;&lt; &quot;\\n&quot;; } } return 0;}","link":"cf/1717/b/"},{"title":"CF1717C","text":"é¢˜æ„ ç»™å®šä¸¤ä¸ªç­‰é•¿æ•°ç»„ \\(\\{A\\}, \\{B\\}\\)ï¼Œå¦‚æœ \\(a_i \\le a_{i + 1}\\) å°±å¯ä½¿ \\(a_i := a_i + 1\\)ï¼Œé—®èƒ½å¦ä½¿å¾— \\(\\{A\\} = \\{B\\}\\) ã€‚ è§£ç­” åªæœ‰å¢åŠ æ“ä½œï¼Œå› æ­¤éœ€è¦ä¿è¯ \\(a_i \\le b_i\\)ã€‚ å¦ä¸€æ–¹é¢ï¼Œæ¯ä¸€ä¸ªç‚¹éƒ½è¢« \\(\\{B\\}\\) æ‰€é™åˆ¶ï¼Œæ¯ä¸€ä¸ª \\(a_i\\) å¯¹åº”çš„ \\(a_{i + 1}\\) ç”± \\(b_{i + 1}\\) æ‰€é™åˆ¶ã€‚ å¦‚æœ \\(a_i \\lt b_i \\gt b_{i + 1} + 1\\)ï¼Œé‚£ä¹ˆ \\(a_i\\) æœ€å¤šåªèƒ½å˜åˆ° \\(b_{i + 1} + 1\\)ã€‚è¿™ç§æƒ…å†µä¹Ÿä¸è¡Œï¼Œå¦åˆ™å¿…å®šæœ‰è§£ï¼š å°†æ»¡è¶³ \\(a_i \\lt b_i \\land a_i \\gt a_{i + 1}\\) çš„ç‚¹è¿è¾¹ \\(i + 1 \\rightarrow i\\)ï¼Œæ„ä¹‰ä¸ºè¦ä¿®æ”¹ \\(i\\) å¿…ç„¶åœ¨æ­¤å‰ä¿®æ”¹ \\(i + 1\\)ã€‚æ­¤æƒ…å½¢ä¸‹åŸå›¾æ— ç¯å› è€Œå¿…æœ‰æ‹“æ‰‘åºï¼Œä»è€Œå¾—è¯ã€‚ CF1717C.cpp >folded12345678910111213141516171819202122232425262728293031323334353637#include &lt;iostream&gt;#include &lt;ranges&gt;#include &lt;vector&gt;auto main() -&gt; int { ::std::ios::sync_with_stdio( not ::std::cin.tie(nullptr) ); int tests; ::std::cin &gt;&gt; tests; while (tests --) { int N; ::std::cin &gt;&gt; N; ::std::vector A(N, 0); auto B { A }; for (int &amp;i : A) { ::std::cin &gt;&gt; i; } for (int &amp;i : B) { ::std::cin &gt;&gt; i; } bool ok { true }; for (int i : ::std::ranges::iota_view(0, N)) { // a_i &gt; b_i // a_i &lt; b_i and b_i &gt; b_next + 1 if (A[i] &gt; B[i] or ( A[i] &lt; B[i] and B[i] &gt; B[i == N - 1 ? 0 : i + 1] + 1 )) { ok = false; break; } } ::std::cout &lt;&lt; (ok ? &quot;YES\\n&quot; : &quot;NO\\n&quot;); } return 0;}","link":"cf/1717/c/"},{"title":"CF1717D","text":"é¢˜æ„ \\(2 ^ n\\) ä¸ªäººå‚åŠ æ¯”èµ›ï¼Œæœ€ç»ˆå†³å‡ºä¸€åèƒœè€…ã€‚\\(A\\) å…ˆæ“ä½œæ¸¸æˆï¼Œæ“ä½œæ–¹å¼ä¸ºå†³å®šç¬¬ä¸€åœºæ¯”èµ›å¯¹æˆ˜åŒæ–¹ï¼Œå¹¶å†³å®šæ¯ä¸€è½®è°èƒœå‡ºã€‚ è€Œ \\(B\\) åæ“ä½œæ¸¸æˆï¼Œæœ‰ \\(k\\) æ¬¡äº¤æ¢èƒœè´Ÿçš„æœºä¼šã€‚ \\(A, B\\) å‡çŸ¥é“å¯¹æ–¹çš„æ“ä½œæ–¹å¼ï¼Œç°åœ¨ \\(A\\) å¸Œæœ›æœ€ç»ˆèƒœå‡ºçš„ç©å®¶ç¼–å·å°½å¯èƒ½å°ï¼Œ\\(B\\) åˆ™åä¹‹ã€‚ é—®æœ€å°æœ€ç»ˆèƒœå‡ºçš„ç©å®¶ç¼–å·ï¼Œå³ç»è¿‡ \\(A\\) çš„å®‰æ’ä¹‹åæ— è®º \\(B\\) å¦‚ä½•ä¿®æ”¹ï¼Œä»–æ€»èƒœã€‚ \\(n \\le 10 ^ 5\\) \\(k \\le \\min\\{2 ^ n, 10 ^ 9\\}\\) è§£ç­” äºŒå‰æ ‘æ·±åº¦ä¸º \\(n\\)ï¼Œè¿™æ„å‘³ç€å¦‚æœ \\(B\\) æ“ä½œæ¬¡æ•° \\(k \\ge n\\) ï¼Œä»–å°†å¾—ä»¥ä»¤ä»»ä½•äººæˆä¸ºèµ¢å®¶ã€‚æ­¤æƒ…å½¢ç­”æ¡ˆä¸º \\(2 ^ n\\) å¦åˆ™ \\(A\\) æ€»å¯ä»¥æ“çºµä¸€äº›é€‰æ‰‹ï¼Œä½¿å¾—ä»–ä»¬å¤±è´¥æ¬¡æ•° \\(\\gt k\\)ï¼Œè¿™æ · \\(B\\) å°±æ— æ³•ä½¿å¾—è¿™äº›é€‰æ‰‹è·èƒœäº†ã€‚ä¾‹å¦‚å°†æœ€å¤§ç¼–å·çš„ä¸€æ‰¹äººå®‰æ’åˆ°ç¬¬ä¸€è½®æ¯”èµ›è¢«æ·˜æ±°çš„é‚£äº›äººã€‚å½¢å¼åŒ–åœ°è¯´ï¼Œä¸€ä¸ªé€‰æ‰‹éœ€è¦ \\(i\\) æ¬¡ä¿®æ”¹æ‰èƒ½è·èƒœï¼Œç­‰ä»·äºé€‰å®š \\(i\\) æ­¥ä»¤å…¶è¾“ï¼Œè¿™æ ·çš„é€‰æ‰‹æœ‰ \\(\\displaystyle\\binom{n}{i}\\) ä½ã€‚ æ•´ä¸ªè¿‡ç¨‹å¯¹äº \\(B\\) æ¥è¯´ï¼Œè¿›è¡Œä¸€æ¬¡ä¿®æ”¹ï¼Œç­‰ä»·äºä»¤ç¼–å·å¤§ \\(\\displaystyle\\binom{n}{i}\\)ï¼Œç»¼åˆä¸Šé¢çš„æƒ…å½¢ï¼Œç­”æ¡ˆä¸ºï¼š \\[ \\sum_{i = 0} ^ {\\min\\{n, k\\}} \\binom{n}{i} \\] CF1717D.cpp >folded12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152#include &lt;iostream&gt;#include &lt;ranges&gt;#include &lt;vector&gt;static constinit int mod = 1E9 + 7;auto main() -&gt; int { ::std::ios::sync_with_stdio( not ::std::cin.tie(nullptr) ); int N, K; ::std::cin &gt;&gt; N &gt;&gt; K; ::std::vector fac(N + 1, 0); auto inf { fac }; // inv-fac fac[0] = 1; for (int i : ::std::ranges::iota_view(1, N + 1)) { fac[i] = 1LL * fac[i - 1] * i % ::mod; } { auto m { ::mod - 2 }; auto n { fac[N] }; auto &amp;A = inf[N]; A = 1; while (m) { if (m &amp; 1) { A = 1LL * A * n % ::mod; } m /= 2; n = 1LL * n * n % ::mod; } } for (int i : ::std::ranges::iota_view(1, N + 1) | ::std::views::reverse) { inf[i - 1] = 1LL * inf[i] * i % mod; } long long ans { }; for (int i : ::std::ranges::iota_view(0, 1 + ::std::min(N, K))) { // binom N i ans += 1LL * fac[N] * inf[i] % ::mod * inf[N - i] % ::mod; ans %= ::mod; } ::std::cout &lt;&lt; ans % ::mod &lt;&lt; &quot;\\n&quot;; return 0;}","link":"cf/1717/d/"},{"title":"CF1717E","text":"é¢˜æ„ \\[ \\sum_{a + b + c = n} \\operatorname {lcm} (c, \\gcd(a, b)) = ? \\] \\(3 \\le n \\le 10 ^ 5\\) è§£ç­” NlogNlogN å›ºå®š \\(c, \\gcd(a, b) =: d\\)ï¼Œåˆ™é—®é¢˜å˜ä¸ºæ±‚è§£æ»¡è¶³ \\(a + b = n - c \\land (a, b) = d\\) çš„ \\((a, b)\\) å¯¹å­æ•°ï¼Œè¿™ä¸ªæ•°æ˜¯ï¼š \\[ \\varphi\\left(\\dfrac{n - c}{d}\\right) \\] å…¶ä¸­ \\(\\varphi(i)\\) è¡¨ç¤ºæ¬§æ‹‰å‡½æ•°ï¼Œå³ \\(1 \\sim i\\) ä¸­ä¸ \\(i\\) äº’è´¨ä¹‹æ•°çš„æ•°é‡ã€‚ å› æ­¤ç­”æ¡ˆå°±æ˜¯ï¼š \\[ \\sum_{c \\in [2, n)} \\sum_{d \\mid n - c} \\operatorname {lcm} (c, d) \\times \\varphi\\left(\\dfrac{n - c}{d}\\right) \\] åœ¨å®ç°ä¸Šï¼Œå…ˆæšä¸¾ \\(c\\) å†æšä¸¾ \\(n - c\\) çš„çº¦æ•°çš„å¤æ‚åº¦å¸¦ä¸ªæ ¹å·ã€‚åè¿‡æ¥ï¼Œå…ˆæšä¸¾ \\(d\\) å†æšä¸¾ \\(d\\) çš„å€æ•°æ›´ä¼˜ã€‚ CF1717E.cpp >folded1234567891011121314151617181920212223242526272829303132#include &lt;iostream&gt;#include &lt;ranges&gt;#include &lt;array&gt;#include &lt;numeric&gt;static constinit int mod = 1E9 + 7;auto main() -&gt; int { ::std::ios::sync_with_stdio( not ::std::cin.tie(nullptr) ); int N; ::std::cin &gt;&gt; N; ::std::array&lt;int, 200010&gt; e { }; long long ans { }; for (int i : ::std::ranges::iota_view(2, N)) { e[i] += i - 1; ans += 1LL * e[i] * (N - i) % ::mod; for (int j = 2; j * i &lt;= N; ++j) { ans += 1LL * e[i] * ::std::lcm(j, N - j * i) % ::mod; ans %= ::mod; e[j * i] -= e[i]; } } ::std::cout &lt;&lt; ans % mod &lt;&lt; &quot;\\n&quot;; return 0;} è§£ç­” NlogN \\[ \\begin{aligned} ans &amp;= \\sum_{k=1}^{n} \\sum_{a=1}^{\\lfloor n / k \\rfloor} \\sum_{b=1}^{\\lfloor n / k \\rfloor} \\colorbox{ADD8E6}{\\boxed{\\operatorname{lcm}(n-ak-bk,k)}} [\\gcd(a,b)=1] [ak+bk \\le n] \\\\ &amp;= \\sum_{k=1}^{n} \\sum_{a=1}^{\\lfloor n / k \\rfloor} \\sum_{b=1}^{\\lfloor n / k \\rfloor} \\colorbox{ADD8E6}{\\boxed{\\dfrac{k(n-ak-bk)}{\\gcd(k,n)}}} \\colorbox{FFF000}{\\boxed{[\\gcd(a,b)=1]}} [ak+bk \\le n] \\\\ &amp;= \\sum_{k=1}^{n} \\dfrac{k}{\\gcd(k,n)} \\sum_{a=1}^{\\lfloor n / k \\rfloor} \\sum_{b=1}^{\\lfloor n / k \\rfloor} (n - ak - bk)[ak+bk \\le n] \\colorbox{FFF000}{\\boxed{\\sum_{d | \\gcd(a, b)} \\mu(d)}} \\\\ &amp;= \\sum_{k=1}^{n} \\dfrac{k}{\\gcd(k,n)} \\sum_{d=1}^{\\lfloor n / k \\rfloor} \\mu(d) \\sum_{a=1}^{\\lfloor n / kd \\rfloor} \\sum_{b=1}^{\\lfloor n / kd \\rfloor - a} n - akd - bkd \\\\ &amp;= \\sum_{k=1}^{n} \\dfrac{k}{\\gcd(k,n)} \\sum_{d=1}^{\\lfloor{n / k}\\rfloor}\\mu(d)\\left(\\dfrac{n \\lfloor n / kd\\rfloor (\\lfloor n / kd \\rfloor - 1)}{2}+\\dfrac{k d \\lfloor n / kd \\rfloor (1 - {\\lfloor n / kd \\rfloor}^{2})}{3}\\right) \\\\ &amp;= \\sum_{k=1}^{n} \\dfrac{k}{\\gcd(k,n)} \\sum_{d=1}^{b}\\mu(d)\\left(\\dfrac{nt(t - 1)}{2}+\\dfrac{k d t (1 - t^2)}{3}\\right) \\end{aligned} \\] \\((1) \\sim (3)\\) æ­¥éª¤è¾ƒä¸ºå®¹æ˜“ï¼Œç•¥å»ä¸è¡¨ã€‚ ç¬¬ \\((4)\\) æ­¥ä»æšä¸¾çº¦æ•°æ”¹ä¸ºæšä¸¾å€æ•°ï¼Œå¯¹åº”çš„ä¸Šä¸‹é™ä¹Ÿå‘ç”Ÿäº†æ”¹å˜ã€‚ ç¬¬ \\((5)\\) æ­¥å±•å¼€å’Œå¼ï¼Œç»“æœä¸ºï¼š \\[ n \\sum_{a = 1}^t\\sum_{b = 1}^{t - a} 1 - kd \\left( \\sum_{a = 1}^t \\sum_{b = 1}^{t - a} a + b\\right) \\] ç„¶å... ç¬¬ \\((6)\\) æ­¥åšäº†è‹¥å¹²ä»£æ¢ï¼Œä¾¿äºä»£ç å®ç°ã€‚ CF1717E_mobius.cpp >folded1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465// å®æµ‹å¸¸æ•°æœ‰ç‚¹å¤§ .... å°±å½“ç»ƒä¹ äº†#include &lt;iostream&gt;#include &lt;ranges&gt;#include &lt;vector&gt;#include &lt;cassert&gt;#include &lt;numeric&gt;static constinit int mod = 1E9 + 7;int norm(int x) { return x &gt;= ::mod ? x - ::mod : x &lt; 0 ? x + ::mod : x; }template &lt;class T&gt; T power(T a, int b) { T res = 1; for (; b; b /= 2, a *= a) { if (b % 2) { res *= a; } } return res;}struct modint { int x; modint(int x = 0) : x(norm(x)) {} int val() const { return x; } friend std::ostream &amp;operator&lt;&lt;(std::ostream &amp;os, const modint &amp;x) { return os &lt;&lt; x.val(); } modint operator-() const { return modint(norm(::mod - x)); } modint inv() const { assert(x != 0); return power(*this, ::mod - 2); } modint &amp;operator*=(const modint &amp;rhs) { return *this = static_cast&lt;long long&gt;(x) * rhs.x % ::mod;} modint &amp;operator+=(const modint &amp;rhs) { return *this = norm(x + rhs.x); } modint &amp;operator-=(const modint &amp;rhs) { return *this = norm(x - rhs.x); } modint &amp;operator/=(const modint &amp;rhs) { return *this *= rhs.inv(); } friend modint operator+(const modint &amp;lhs, const modint &amp;rhs) { return modint(lhs) += rhs; } friend modint operator-(const modint &amp;lhs, const modint &amp;rhs) { return modint(lhs) -= rhs; } friend modint operator*(const modint &amp;lhs, const modint &amp;rhs) { return modint(lhs) *= rhs; } friend modint operator/(const modint &amp;lhs, const modint &amp;rhs) { return modint(lhs) /= rhs; }};auto main() -&gt; int { ::std::ios::sync_with_stdio( not ::std::cin.tie(nullptr) ); int N; ::std::cin &gt;&gt; N; ::std::vector mu(N + 1, ::modint{ }); mu[1] = 1; for (int i : ::std::ranges::iota_view(2, N + 1)) { mu[i] -= 1; for (int j = i * 2; j &lt;= N; j += i) { mu[j] -= mu[i]; } } ::modint ans { }; for (int k : ::std::ranges::iota_view(1, N + 1)) { int b = N / k; ::modint sum { }; for (int d : ::std::ranges::iota_view(1, b + 1)) { ::modint t = b / d; sum += mu[d] * (t * (t - 1) / 2 * N + t * d * k * (1 - t * t) / 3); } ans += sum * k / ::std::gcd(N, k); } ::std::cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; return 0;}","link":"cf/1717/e/"},{"title":"CF1719A","text":"é¢˜æ„ æ£‹ç›˜ä¸Šåšå¼ˆï¼Œæ¯æ¬¡åªèƒ½å‘ä¸Šã€å‘å³ç§»åŠ¨å¥‡æ•°æ¬¡ã€‚è°èƒœï¼Ÿ è§£ç­” åˆ°è¾¾ç»ˆç‚¹èŠ±è´¹ \\(n + m\\) æ­¥ã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415#include &lt;bits/stdc++.h&gt;using namespace std;int main() { ios::sync_with_stdio(!cin.tie(0)); int tests; cin &gt;&gt; tests; while (tests--) { int n, m; cin &gt;&gt; n &gt;&gt; m; cout &lt;&lt; (n + m &amp; 1 ? &quot;Burenka\\n&quot; : &quot;Tonya\\n&quot;); } return 0;}","link":"cf/1719/a/"},{"title":"CF1719B","text":"é¢˜æ„ ç»™å®š \\(k\\)ï¼Œå°† \\(1 \\sim n\\) çš„æ•°åˆ†ä¸º \\(n / 2\\) ä¸ªäºŒå…ƒç»„ \\((a, b)\\)ï¼Œä½¿å¾— \\(4 \\mid (a + k) \\times b\\)ã€‚ æˆ–æŠ¥å‘Šä¸å¯èƒ½ã€‚ è§£ç­” \\(2 \\times 2 = 1 \\times 4 = 4 \\times 1 = 4\\) å¦‚æœ \\(k \\equiv 1 \\pmod 2\\) å¯ä»¥åœ¨ \\((a + k)\\) ä¸ \\(b\\) å„ç»™å‡º \\(2\\) å› å­çš„è´¡çŒ®ï¼Œè¿™æ ·å°±æ€»æœ‰ \\(4 \\mid (a + k) \\times b\\) äº†ã€‚ å¦åˆ™ï¼Œå¦‚æœ \\(4 \\mid k\\)ï¼Œè€ƒè™‘åˆ° \\(k / 4\\) ä¸ªäºŒå…ƒç»„ \\((4x, 2n + 1)\\) å¯ä»¥é…å¯¹ï¼Œæ¥ä¸‹æ¥è‡³å¤šå‡‘å‡º \\(k / 8\\) ä¸ª \\(2 \\times 2\\) çš„äºŒå…ƒç»„ã€‚ äºæ˜¯è¿™ç§æƒ…å†µä¸‹å‡‘ä¸å‡º \\(k / 2\\) å¯¹ã€‚ è€Œå¯¹äº \\(k \\equiv 2 \\pmod 4\\)ï¼Œåˆ™å¯ä»¥ç”¨ \\(k / 4\\) ä¸ª \\(4n + 2\\) å‡‘å‡º \\(4\\)ï¼Œå¹¶ä¸”æœ‰ \\(k / 4\\) ä¸ª \\(4n\\)ã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415161718192021222324252627#include &lt;bits/stdc++.h&gt;using namespace std;int main() { ios::sync_with_stdio(!cin.tie(0)); int tests; cin &gt;&gt; tests; while (tests--) { int n, k; cin &gt;&gt; n &gt;&gt; k; if (k % 4 == 0) { cout &lt;&lt; &quot;NO\\n&quot;; } else { cout &lt;&lt; &quot;YES\\n&quot;; for (int i = 2; i &lt;= n; i += 2) { // k æ˜¯å¥‡æ•° æˆ–è€… i = 4n + 2 if ((k &amp; 1) || (~(i &gt;&gt; 1) &amp; 1)) { cout &lt;&lt; i - 1 &lt;&lt; &quot; &quot; &lt;&lt; i &lt;&lt; &quot;\\n&quot;; } else { cout &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; i - 1 &lt;&lt; &quot;\\n&quot;; } } } } return 0;}","link":"cf/1719/b/"},{"title":"CF1719C","text":"é¢˜æ„ \\(n\\) äººæ¯”èµ›ï¼Œæˆ˜åŠ›ä¸¤ä¸¤ä¸åŒã€‚æ¯æ¬¡ä»å¤´é€‰æ‹©ä¸¤é€‰æ‰‹ï¼Œèµ¢å®¶ç•™åœ¨å¤´ï¼Œè¾“è€…ç½®äºå°¾ã€‚é—®è‹¥å¹²è½®åæŸé€‰æ‰‹èµ¢äº†å¤šå°‘å±€ã€‚ è§£ç­” äº‹å®ä¸Šï¼Œç»è¿‡ \\(n\\) å±€ä¹‹åï¼Œæˆ˜åŠ›æœ€é«˜é€‰æ‰‹å°±ä¼šä¸€ç›´é©»ç•™é˜Ÿé¦–äº†ã€‚åé¢çš„é€‰æ‰‹èƒœåœºä¸ä¼šå¢åŠ ï¼Œå› æ­¤ä½¿ç”¨åŒç«¯é˜Ÿåˆ—æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹ï¼Œè®°å½•æ¯æ¬¡çš„èƒœè€…çš„ç©ºé—´å¼€é”€ä¹Ÿä»…ä¸º \\(\\mathcal O(n)\\)ã€‚ å¤æ‚åº¦ä¸º \\(\\mathcal O(n + q \\log n)\\)ã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;bits/stdc++.h&gt;using namespace std;#define R ranges#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int tests; cin &gt;&gt; tests; while (tests--) { int n, q; cin &gt;&gt; n &gt;&gt; q; int maxpos = -1; deque a(n, pair{0, 0}); for (int i: RI(0, n)) { cin &gt;&gt; a[i].first; if (a[i].first == n) { maxpos = i; } a[i].second = i; } vector b(n, vector&lt;int&gt;{}); for (int i: RI(0, n)) { auto p1 = a.front(); a.pop_front(); auto p2 = a.front(); a.pop_front(); a.push_front(max(p1, p2)); a.push_back(min(p1, p2)); b[max(p1, p2).second].push_back(i); } while (q--) { int i, k; cin &gt;&gt; i &gt;&gt; k; i -= 1; int pos = ranges::upper_bound(b[i], k - 1) - b[i].begin(); cout &lt;&lt; pos + (k &gt; n &amp;&amp; i == maxpos ? k - n : 0) &lt;&lt; &quot;\\n&quot;; } } return 0;}","link":"cf/1719/c/"},{"title":"CF1719D1","text":"é¢˜æ„ æ˜¯ CF1719D2 çš„ç®€å•ç‰ˆã€‚","link":"cf/1719/d1/"},{"title":"CF1719D2","text":"é¢˜æ„ åœ¨æ•°ç»„ \\(\\{A\\}\\) ä¸Šé€‰å®šåŒºé—´ \\([L, R]\\) ä»¥åŠæ•° \\(x\\)ï¼ŒèŠ±è´¹ \\(\\Big\\lceil\\dfrac{R - L + 1}{2}\\Big\\rceil\\) å°†åŒºé—´ä¸­æ‰€æœ‰æ•°éƒ½å¼‚æˆ–ä¸Š \\(x\\)ã€‚é—®è‡³å°‘å¤šå°‘æ¬¡æ“ä½œåç½®ç©º \\(\\{A\\}\\)ï¼Ÿ \\(a_i \\in [0, 2 ^ {30})\\) è§£ç­” è¿™ç§èŠ±è´¹ä¸åŒºé—´é•¿åº¦ç›¸å…³çš„æ“ä½œä¸€èˆ¬æ¥è¯´éƒ½å¯ä»¥çœ‹ä½œè‹¥å¹²é•¿åº¦ä¸º \\(1/2\\) çš„åŒºé—´ï¼Œåä¹‹äº¦ç„¶ã€‚ å¯èƒ½ä½¿æ“ä½œæ¬¡æ•°æ›´å°‘çš„æƒ…å½¢å‡ºç°åœ¨åŒºé—´å¼‚æˆ–èµ·æ¥å·²ç»æ˜¯ \\(0\\) çš„æƒ…å†µã€‚ åˆ†ä¸¤ç§æƒ…å†µï¼š ä¸¤ä¸ªç›¸åŒçš„æ•°å­—ï¼Œè¿™æ ·éœ€è¦ \\(1\\) çš„èŠ±è´¹ã€‚å¦åˆ™æ€»æ˜¯è‹¥å¹²è¿™æ ·çš„åŒºé—´ã€‚ è‹¥å¹²ä¸åŒçš„æ•°å­—ï¼Œä»å¤´åˆ°å°¾æˆå¯¹å¼‚æˆ–èµ·æ¥å¯ä»¥èŠ‚çœ \\(1\\) çš„èŠ±è´¹ã€‚ æ€»ç»“ä¸¤ç§æ“ä½œéƒ½æ˜¯èƒ½å¤Ÿå°†èŠ±è´¹è½¬å˜ä¸º \\(\\operatorname{len} - 1\\) çš„ä»£ä»·ã€‚è€Œæ ¸å¿ƒæ˜¯ï¼Œæ‰¾åˆ°ä¸€æ®µå¼‚æˆ–å’Œä¸º \\(0\\) çš„åŒºé—´ï¼Œè¿™ä¸ªå¯ä»¥ä½¿ç”¨å¼‚æˆ–å‰ç¼€å’Œæå®šã€‚ è®¾ \\(f_i\\) ä¸ºå°†å‰ç¼€ç½®ç©ºçš„æœ€å°èŠ±è´¹ï¼Œè¦ä¹ˆå°†æŸä¸ªæ•°å¼‚æˆ–è‡ªå·±ï¼Œè¦ä¹ˆå·²ç»æ‰¾åˆ°ä¸€æ®µåŒºé—´å…¶å¼‚æˆ–å’Œä¸º \\(0\\)ã€‚ \\(f_i = \\min\\left\\{f_{i - 1} + 1, dp_j + \\operatorname{len}(j + 1, i)\\right\\}\\) å…¶ä¸­ \\(\\bigoplus\\limits_{x = j + 1}^i a_x = 0\\)ã€‚ ä¸ºæ–¹ä¾¿è½¬ç§»ï¼Œå¯¹äºæ¯ä¸ªå‰ç¼€å¼‚æˆ–å’Œ \\(p_i\\) è®°ä¸‹ \\(h_{p_i} := f_i - i\\)ï¼Œè¿™æ ·å°±å¯ä»¥å•æ¬¡åœ¨ \\(\\mathcal O(\\log n)\\) è½¬ç§»ã€‚ å±•å¼€å‚è€ƒä»£ç  1234567891011121314151617181920212223242526272829303132333435363738#include &lt;bits/stdc++.h&gt;using namespace std;#define R ranges#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int tests; cin &gt;&gt; tests; while (tests--) { int n; cin &gt;&gt; n; vector&lt;int&gt; a(n), p(n + 1); for (int i: RI(0, n)) { cin &gt;&gt; a[i]; p[i + 1] = p[i] ^ a[i]; } vector&lt;int&gt; f(n + 1, INT_MAX); f[0] = 0; map&lt;int, int&gt; h; h[0] = 0; // f_i - i for (int i: RI(1, n + 1)) { // æŠŠæŸä¸ªæ•°æ”¹æ‰ f[i] = min(f[i], f[i - 1] + !!a[i - 1]); // åŒºé—´å’Œä¸º 0 if (h.count(p[i])) { f[i] = min(f[i], h[p[i]] + i - 1); } h[p[i]] = min(h[p[i]], f[i] - i); } cout &lt;&lt; f.back() &lt;&lt; &quot;\\n&quot;; } return 0;} å¯¹ç§°é—®é¢˜ ç›´æ¥æ€è€ƒã€Œèƒ½èŠ‚çœçš„ä»£ä»·ã€ä¹Ÿä¸é”™ï¼Œæ€è·¯ä¸ä¸Šè¿°ç±»ä¼¼ï¼Œä½†å®ç°èµ·æ¥æ›´è½»å·§ã€‚ 12345678910for (int i : RI(1, n + 1)) { f[i] = f[i - 1]; if (h.count(p[i])) { dp[i] = max(dp[i], 1 + dp[h[p[i]]]); } // æœ€åä¸€æ¬¡å‡ºç°ä½ç½® h[p[i]] = i;}cout &lt;&lt; n - f.back(n) &lt;&lt; &quot;\\n&quot;;","link":"cf/1719/d2/"},{"title":"CF1719E","text":"é¢˜æ„ ç»™å®šè‹¥å¹²å­—ç¬¦å„ \\(c_i\\) ä¸ªï¼Œé—®èƒ½å¦å°†å…¶æ’ä¸ºä¸€ä¸²å­—ç¬¦ï¼Œä½¿å¾—æ¯ä¸ªå—å†…å‡ºç°çš„å­—ç¬¦æ•°é‡è¿ç¼€èµ·æ¥æ°ä¸ºä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—ï¼ˆ\\(1, 1, 2, 3, \\cdots\\) ï¼‰ã€‚ å¦‚ \\(``abaabbbccccc&quot;\\) æ°å¥½ä¸º \\(\\{1, 1, 2, 3, 5\\}\\) æ˜¯ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚ \\(1 \\le k \\le 100, 1 \\le c_i \\le 10^9\\) è§£ç­” é¦–å…ˆå¯çŸ¥ \\(\\sum \\{C\\}\\) å¿…å®šæ˜¯æŸä¸ª \\(\\{\\sum \\operatorname{fibonacci}\\}_i\\)ã€‚åŒæ—¶ï¼Œè¿ç»­çš„åˆ’åˆ†ä¸èƒ½æ˜¯åŒä¸€ä¸ªå­—ç¬¦ã€‚ å¦‚ \\(aabbccc\\) æ˜¯ \\(\\{2, 2, 3\\}\\)ã€‚ å€’ç€è€ƒè™‘ã€‚å°½ç®¡æ›´å¤§çš„æ•°å­—æœ‰ç€æ›´å¤šçš„ã€Œé€‰æ‹©ã€ï¼Œä½†å¦‚æœä¸åœ¨æ­£ç¡®çš„ä½ç½®åˆ™ä¸€å®šä¸è¡Œã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;#define R ranges#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); ll fibonacci[66], f1 { 0 }, f2 { 1 }, sum {}; map&lt;ll, int&gt; s; for (int i = 0; i &lt; 66; ++i) { s[sum += (fibonacci[i] = f2)] = i; tie(f1, f2) = tuple { f2, f1 + f2 }; } int tests; cin &gt;&gt; tests; while (tests--) { int n; cin &gt;&gt; n; vector&lt;ll&gt; c(n); for (int i: RI(0, n)) { cin &gt;&gt; c[i]; } ll sum = accumulate(c.begin(), c.end(), 0 LL); if (!s.count(sum)) { cout &lt;&lt; &quot;NO\\n&quot;; continue; } for (int i = s[sum], l { -1 }; ~i; --i) { int p { -1 }; for (int j: RI(0, n)) { // ä¸ä¸ä¸Šæ¬¡çš„é‡å¤ // ä¸”è¿˜æœ‰å……è¶³çš„å­—ç¬¦ // ä¸”ä»æœªé€‰è¿‡æˆ–è€…æœ‰æ›´å¤§çš„é€‰æ‹© if (j != l &amp;&amp; c[j] &gt;= fibonacci[i] &amp;&amp; (!~p || c[j] &gt; c[p])) { p = j; } } // æŸ¥æ— æ­¤é¡¹ G! if (!~p) { cout &lt;&lt; &quot;NO\\n&quot;; goto G; } l = p; c[p] -= fibonacci[i]; } cout &lt;&lt; &quot;YES\\n&quot;; G: ; } return 0;}","link":"cf/1719/e/"},{"title":"CF1A","text":"é¢˜æ„ è‡³å°‘ç”¨å¤šå°‘ä¸ª \\(a \\times a\\) çš„çŸ³æ¿ï¼Œæ‰èƒ½å®Œå…¨å¡«æ»¡ \\(n \\times m\\) çš„çŸ©å½¢ï¼Ÿ è§£ç­” \\(\\left\\lceil\\dfrac{n}{a}\\right\\rceil \\times \\left\\lceil\\dfrac{m}{a}\\right\\rceil\\) å³ä¸ºæ‰€æ±‚ã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415#include &lt;bits/stdc++.h&gt;using ll = long long;using namespace std;int main() { cin.tie(0), ios::sync_with_stdio(0); ll n, m, a; cin &gt;&gt; n &gt;&gt; m &gt;&gt; a; cout &lt;&lt; ((n + a - 1) / a) * ((m + a - 1) / a) &lt;&lt; &quot;\\n&quot;; return 0 ^ 0;}","link":"cf/1/a/"},{"title":"CF1B","text":"é¢˜æ„ \\(R\\verb|{x}|C\\verb|{y}|\\) æè¿°åæ ‡ï¼Œè¡¨ç¤ºåœ¨ \\(x\\) è¡Œ \\(y\\) åˆ—ã€‚ \\(\\verb|BC|23\\) åˆ™è¡¨ç¤ºç¬¬ \\(\\verb|BC|\\) åˆ—ç¬¬ \\(23\\) è¡Œã€‚å…¶ä¸­ \\(\\verb|BC|\\) çš„è®°æ³•å¦‚ä¸‹æ‰€è¿°ï¼š ç¬¬ä¸€åˆ—è¢«æ ‡ä¸º \\(\\verb|A|\\)ï¼Œç¬¬äºŒåˆ—ä¸º \\(\\verb|B|\\)ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç¬¬ \\(26\\) åˆ—ä¸º \\(\\verb|Z|\\)ã€‚ æ¥ä¸‹æ¥ä¸ºç”±ä¸¤ä¸ªå­—æ¯æ„æˆçš„åˆ—å·: ç¬¬ \\(27\\) åˆ—ä¸º \\(\\verb|AA|\\)ï¼Œç¬¬ \\(28\\) åˆ—ä¸º \\(\\verb|AB| \\cdots\\) åœ¨æ ‡ä¸º \\(\\verb|ZZ|\\) çš„åˆ—ä¹‹ååˆ™ç”±ä¸‰ä¸ªå­—æ¯æ„æˆåˆ—å·ï¼Œå¦‚æ­¤ç±»æ¨ã€‚ å†™ä¸€ä¸ªç¨‹åºï¼Œå®ç°ä¸¤è€…çš„è½¬æ¢ã€‚ å¸¸ç”¨çš„ Excel è¡¨æ ¼ä½¿ç”¨ç¬¬äºŒç§è®°æ³•ã€‚ TODO: [2022-07-28 Patricky] æŸå¹´åŒºåŸŸèµ›æœ‰ä¸ªç±»ä¼¼çš„é¢˜ï¼Œè®°ä¸æ¸…äº†ï¼Œå¾…è¡¥å……ã€‚ è§£ç­” çœ‹èµ·æ¥ä»è¾“å…¥ä¸Šå°±å·²ç»ç›¸å¯¹å¤æ‚äº†ï¼Œä¸è¿‡å¯¹äºè¿™ç§æ ¼å¼ç›¸å¯¹å›ºå®šçš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æè¿°ä¹‹ã€‚ \\(C\\) è¯­è¨€ä¸­çš„ \\(\\verb|scanf(format, args...)|\\) ä¸­çš„æ ¼å¼ä¸²æ°å¥½èƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œè¾“å…¥ã€‚ è¿™å¥ scanf(\"%*[A-Z]%d\", &amp;x); è¡¨ç¤ºçš„æ„æ€å°±æ˜¯ã€Œå¿½ç•¥æ‰€æœ‰å¤§å†™å­—ç¬¦ï¼Œå¹¶è¯»å…¥ä¸€ä¸ªæ•´æ•°ã€ã€‚ æ¥ä¸‹æ¥çš„éƒ¨åˆ†å°±æ˜¯è¿›åˆ¶è½¬æ¢äº†ï¼Œæ³¨æ„è¿™é‡Œçš„è¿›åˆ¶è½¬æ¢éœ€è¦å¤„ç†ä¸€ä¸‹ä½™æ•°ä¸º \\(0\\)ï¼Œå³ \\(\\verb|Z|\\) çš„æƒ…å†µã€‚ å±•å¼€å‚è€ƒä»£ç  ç¬¬ä¸ƒè¡Œ \\(\\verb|&quot;%[A-Z]&quot;|\\) å‰çš„ä¸€ä¸ªç©ºæ ¼å°†åå™¬æ‰€æœ‰ç©ºç™½å­—ç¬¦ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;bits/stdc++.h&gt;using namespace std;char col[100];int solve() { int a, b = 0; scanf(&quot; %[A-Z]%d%*[A-Z]%d&quot;, col, &amp; a, &amp; b); if (b) { string ans; while (b) { int r = b % 26; b /= 26; if (!r) { r = 26; b -= 1; } ans.append(1, r + 'A' - 1); } printf(&quot;%s%d\\n&quot;, string(ans.rbegin(), ans.rend()).c_str(), a); } else { for (int i = 0, n = strlen(col); i &lt; n; ++i) { b = b * 26 + col[i] - 'A' + 1; } printf(&quot;R%dC%d\\n&quot;, a, b); } return {};}int main() { int tests; cin &gt;&gt; tests; while (tests--) { solve(); } return 0 ^ 0;}","link":"cf/1/b/"},{"title":"CF1C","text":"é¢˜æ„ æ‰¾å‡ºè¦†ç›–ç»™å®šä¸‰è§’å½¢ \\(\\triangle ABC\\) çš„æœ€å°æ­£å¤šè¾¹å½¢é¢ç§¯ã€‚ è§£ç­” æ‰€æ±‚æ­£å¤šè¾¹å½¢çš„é¡¶ç‚¹ä¸€å®šéƒ½åœ¨ \\(\\triangle ABC\\) çš„å¤–æ¥åœ†ä¸Šã€‚ ä½¿ç”¨åè¯æ³•å®¹æ˜“å¾—åˆ°è¿™ä¸€ç‚¹ï¼Œæ€è·¯ä¸è¯æ˜ã€Œå‡¸åŒ…å†…æœ€å¤§ä¸‰è§’å½¢é¡¶ç‚¹ä¸€å®šåœ¨å‡¸åŒ…ä¸Šã€ç±»ä¼¼ã€‚ å¦‚ä½•æ±‚å¾—ä¸‰è§’å½¢å¯¹åº”å¤–æ¥åœ†çš„åŠå¾„ï¼Ÿäº‹å®ä¸Šï¼Œæœ‰æ­£å¼¦å®šç† \\(\\dfrac{a}{\\sin A} = \\dfrac{b}{\\sin B} = \\dfrac{c}{\\sin C} = 2R\\) å·²ç»ç»™å®šäº†ä¸‰ç‚¹åæ ‡ï¼Œå¯ä»¥ç”±å‘é‡å‰ç§¯çš„å‡ ä½•æ„ä¹‰ï¼ˆè€Œä¸æ˜¯æµ·ä¼¦å…¬å¼ï¼‰æ±‚å¾—é¢ç§¯ï¼š \\[ S = \\dfrac{1}{2} \\left|\\begin{matrix} x_1 &amp;y_1 &amp; 1\\\\ x_2 &amp;y_2 &amp; 1\\\\ x_3 &amp;y_3 &amp; 1\\\\ \\end{matrix} \\right| = \\dfrac{1}{2}\\left|x_1y_2 + x_2y_3 + x_3y_1 - x_1y_3 - x_2y_1 - x_3y_2\\right| \\] è¿›è€Œè½¬åŒ–ä¸º \\(\\dfrac{ab\\sin C}{2}\\) çš„å½¢å¼ã€‚æ€»ä¹‹ï¼Œæœ‰ \\(R = \\dfrac{abc}{4S}\\) ã€‚ æ¥ç€è¦æ±‚è¿™ä¸ªå¤–æ¥åœ†ç»è¿‡ä¸‰è§’å½¢é¡¶ç‚¹æœ€å°‘æœ‰å¤šå°‘æ¡è¾¹ï¼Œè¿™æ˜¯ \\(\\gcd\\) çš„åŸºæœ¬é—®é¢˜ã€‚å„è¾¹ï¼ˆå¼¦ï¼‰å¯¹åº”åœ†å¿ƒè§’çš„æœ€å¤§å…¬çº¦æ•° \\(t\\) å³ä¸ºæ‰€æ±‚ã€‚ åœ†å¿ƒè§’æ€ä¹ˆæ±‚ï¼Ÿå°†å¼¦çš„ä¸¤ç‚¹è¿ç»“åœ†å¿ƒï¼Œå¾—åˆ°äº†ä¸€ä¸ªè¾¹é•¿ä¸º \\(\\langle R, R, a \\rangle\\) çš„ä¸‰è§’å½¢ï¼Œç”±ä½™å¼¦å®šç†ï¼š \\[\\angle BOC = \\arccos\\left(\\dfrac{R^2 + R^2 - a^2}{2R^2}\\right) = \\arccos\\left(1 - \\dfrac{a^2}{2R^2}\\right)\\] äºæ˜¯è¯¥æ­£å¤šè¾¹å½¢ç”± \\(\\dfrac{2\\pi}{t}\\) ä¸ªé¢ç§¯ä¸º \\(\\dfrac{R^2\\sin t}{2}\\) çš„ä¸‰è§’å½¢ç»„æˆï¼Œé‚£ä¹ˆæ‰€æ±‚ä¾¿å‘¼ä¹‹æ¬²å‡ºäº†ã€‚ å±•å¼€å‚è€ƒä»£ç  ä½¿ç”¨é€’å½’ \\(\\gcd\\) ä¼šçˆ†æ ˆï¼ˆå½“ç„¶ä¸æ’é™¤æ˜¯ \\(\\verb|function|\\) çš„ç¼˜æ•…ï¼‰ï¼Œ å› è€Œç¬”è€…æ”¹ç”¨è¿­ä»£å®ç°ã€‚ æ³¨æ„ \\(\\epsilon\\) çš„å–å€¼ï¼Œé¢˜ç›®ä¸­è¯´ï¼š It's guaranteed that the number of angles in the optimal polygon is not larger than \\(100\\). å› è€Œç²¾åº¦ä¸éœ€è¦æ§åˆ¶å¤ªé«˜ï¼Œè¿™åè€Œä¼šé€ æˆ \\(\\gcd\\) è¿­ä»£æ¬¡æ•°è¿‡å¤šä»è€Œå¯¼è‡´ç­”æ¡ˆé”™è¯¯ã€‚ ç¬¬ä¸‰ä¸ªåœ†å¿ƒè§’éœ€è¦é€šè¿‡ \\(2\\pi - \\angle AOB - \\angle BOC\\) å¾—åˆ°ï¼Œå¦åˆ™ä¼šæœ‰ç›¸å½“å¤§çš„è¯¯å·®ï¼ˆé’è§’ï¼‰ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;bits/stdc++.h&gt;using namespace std;using db = long double;int main() { struct { db x, y; } P[3] {}; for (int i = 0; i &lt; 3; ++i) { scanf(&quot;%Lf%Lf&quot;, &amp; P[i].x, &amp; P[i].y); } db C[3] {}; for (int i = 0; i &lt; 3; ++i) { int j = i == 2 ? 0 : i + 1; C[i] = hypot(P[i].x - P[j].x, P[i].y - P[j].y); } // db p = (C[0] + C[1] + C[2]) / 2; // db S = sqrt(p * (p - C[0]) * (p - C[1]) * (p - C[2])); db S {}; for (int i = 0; i &lt; 3; ++i) { int p = !i ? 2 : i - 1, n = i == 2 ? 0 : i + 1; S += P[i].x * P[n].y - P[i].x * P[p].y; } S /= 2; db R = C[0] * C[1] * C[2] / (4 * S); db a[3] {}; a[0] = acos(1 - C[0] * C[0] / (2 * R * R)); a[1] = acos(1 - C[1] * C[1] / (2 * R * R)); a[2] = 2 * numbers::pi_v &lt; db &gt; -a[0] - a[1]; constexpr db epsilon = 1E-2; // 2pi / 100 ~= 0.06283185307 =&gt; .01 function&lt;db(db, db)&gt; gcd = [&amp;](db x, db y) -&gt; db { // return fabs(y) &lt; epsilon ? x : gcd(y, fmod(x, y)); =&gt; MLE if ((x - y) &lt; -epsilon) { swap(x, y); } while (fabs(y) &gt; epsilon) { tie(x, y) = tuple { y, fmod(x, y) }; } return x; }; db t = gcd(a[0], gcd(a[1], a[2])); printf(&quot;%.10Lf&quot;, (numbers::pi_v&lt;db&gt; * R * R * sin(t)) / t); return 0 ^ 0;}","link":"cf/1/c/"},{"title":"CF2A","text":"é¢˜æ„ ç§¯åˆ†æ¿ä¸Šå°†è®°å½•ç©å®¶ä¸æ¯å›åˆçš„ç§¯åˆ†å˜åŒ–ã€‚é—®æœ€ç»ˆè·å¾—æœ€é«˜åˆ†æ•°çš„é€‰æ‰‹ä¸­ï¼Œè°æœ€å…ˆè¾¾åˆ°äº†æœ€é«˜åˆ†æ•°ï¼Ÿ è§£ç­” å› ä¸ºæœ‰è´Ÿåˆ†åˆ¶ï¼Œå› æ­¤éœ€è¦å¤„ç†å®Œæ‰€æœ‰çš„ç§¯åˆ†ä¹‹åå†ç»Ÿè®¡æœ€å¤§åˆ†æ•°ã€‚ éšåé‡æ–°ä»å¤´å‘åæ‰¾ï¼Œçœ‹å“ªä½é€‰æ‰‹ç¬¬ä¸€ä¸ªåˆ°è¾¾äº†æœ€é«˜åˆ†å¹¶ä¸”ä»–æœ€ç»ˆè·å¾—äº†æœ€é«˜åˆ†ã€‚ å±•å¼€å‚è€ƒä»£ç  1234567891011121314151617181920212223242526272829303132#include &lt;bits/stdc++.h&gt;using namespace std;int main() { cin.tie(0), ios::sync_with_stdio(0); int n; cin &gt;&gt; n; map&lt;string, int&gt; rank, overview; vector g(n, pair&lt;string, int&gt;{}); for (auto &amp;[k, v]: g) { cin &gt;&gt; k &gt;&gt; v; rank[k] += v; } int most = 0; for (auto &amp;[_, v]: rank) { most = max(most, v); } for (auto &amp;[k, v]: g) { overview[k] += v; if (rank[k] == most &amp;&amp; overview[k] &gt;= most) { return cout &lt;&lt; k &lt;&lt; &quot;\\n&quot;, int {}; } } return 0 ^ 0;}","link":"cf/2/a/"},{"title":"CF2B","text":"é¢˜æ„ ç»™å®šæ–¹é˜µï¼Œä»å·¦ä¸Šè§’èµ°åˆ°å³ä¸‹è§’ï¼Œæ¯æ¬¡åªèƒ½å‘å³æˆ–æ˜¯å‘ä¸‹ã€‚è¦æ±‚ç»è¿‡æ•°ä¹‹ç§¯ä»¥å°½å¯èƒ½å°‘çš„ \\(0\\) ç»“å°¾ï¼Œå¹¶è¾“å‡ºæ–¹æ¡ˆã€‚ è§£ç­” æ„å³ç»è¿‡çš„æ•°å°½å¯èƒ½å°‘çš„åŒ…å« \\(2\\) å› å­ä¸ \\(5\\) å› å­ã€‚å› ä¸ºç­”æ¡ˆç”±ä»–ä»¬ä¸­çš„è¾ƒå°å€¼æ‰€ç¡®å®šã€‚ åªå…³å¿ƒ \\(2\\) ä¸ \\(5\\) å› å­çš„æ¬¡æ•°ï¼Œé‚£ä¹ˆé—®é¢˜è½¬æ¢ä¸ºç»å…¸çš„é€’æ¨ \\(dp_{i, j} = \\min\\{dp_{i - 1, j}, dp_{i, j - 1}\\}\\)ã€‚ å› ä¸ºè½¬ç§»æ–¹å¼å•è°ƒï¼Œè¦è¾“å‡ºè·¯å¾„ä¹Ÿåªéœ€è¦åæ¨å›å»ã€‚ æœ‰ä¸€ä¸ªå°å‘ç‚¹ï¼Œé¢˜ç›®è¯´ non-negative è€Œä¸æ˜¯ positiveï¼Œå¦‚æœå‡ºç° \\(0\\) å¹¶ä¸” dp ä¸å‡ºä¸€æ¡ç­”æ¡ˆä¸º \\(0\\) çš„æ–¹æ¡ˆæ—¶ï¼Œç›´æ¥èµ°ç­”æ¡ˆä¸º \\(1\\) ç»è¿‡ \\(0\\) çš„è¿™æ¡è·¯å¾„å°±å¥½ã€‚ å±•å¼€å‚è€ƒä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677#include &lt;bits/stdc++.h&gt;using namespace std;int main() { cin.tie(0), ios::sync_with_stdio(0); int n; cin &gt;&gt; n; vector dp(n, vector(n, vector &lt; int &gt; (2))); int pos = -1; for (int i = 0; i &lt; n; ++i) { for (int j = 0, x; j &lt; n; ++j) { cin &gt;&gt; x; if (x == 0) { pos = i; } else { for (auto[d, t]: { pair { 2, 0 }, { 5, 1 } }) { while (x % d == 0) { x /= d; dp[i][j][t] += 1; } } } } } for (int i = 1; i &lt; n; ++i) { for (int j: { 0, 1 }) { dp[i][0][j] += dp[i - 1][0][j]; dp[0][i][j] += dp[0][i - 1][j]; } } for (int i = 1; i &lt; n; ++i) { for (int j = 1; j &lt; n; ++j) { for (int k: { 0, 1 }) { dp[i][j][k] += min(dp[i - 1][j][k], dp[i][j - 1][k]); } } } int x = min(0, 1, [ &amp; ](auto x, auto y) { return dp.back().back()[x] &lt; dp.back().back()[y]; }); if (~pos &amp;&amp; dp.back().back()[x] &gt; 0) { cout &lt;&lt; string { &quot;1\\n&quot; } .append(pos, 'D') .append(n - 1, 'R') .append(n - pos - 1, 'D'); return int {}; } int r = n - 1, c = r; string ans; while (r &amp;&amp; c) { if (dp[r - 1][c][x] &lt; dp[r][c - 1][x]) { r -= 1, ans += 'D'; } else { c -= 1, ans += 'R'; } if (!r) { ans += string(c, 'R'); } if (!c) { ans += string(r, 'D'); } } cout &lt;&lt; dp.back().back()[x] &lt;&lt; &quot;\\n&quot; &lt;&lt; string(ans.rbegin(), ans.rend()); return 0 ^ 0;}","link":"cf/2/b/"},{"title":"CF2C","text":"é¢˜æ„ ç»™å‡ºä¸‰ä¸ªç›¸å¤–ç¦»çš„åœ†ï¼Œæ±‚å‡ºä¸€ä¸ªç‚¹ä½¿å¾—åˆ°è¿™ä¸‰ä¸ªåœ†çš„ï¼ˆåˆ†åˆ«ä¸¤æ¡ï¼‰åˆ‡çº¿å¼ è§’ç›¸åŒã€‚ æˆ–é™é»˜ä»¥æŠ¥å‘Šæ— è§£ã€‚ æ ·ä¾‹ä¸€ èƒŒæ™¯ å¦‚æœä»…æœ‰ä¸¤ä¸ªåœ†ï¼Œé‚£ä¹ˆè¯¥ç‚¹çš„è¿åŠ¨è½¨è¿¹ä¹Ÿæ˜¯ä¸€ä¸ªåœ†ã€‚ ç†Ÿæ‚‰è§£æå‡ ä½•çš„åŒå­¦ä¸éš¾å‘ç°ï¼Œæ­¤å³é˜¿æ°åœ†ã€‚ è¯æ˜æ˜¯æ˜¾ç„¶çš„ï¼Œå–åŠå¼ è§’ï¼Œè¿ç»“åˆ‡ç‚¹åœ†å¿ƒï¼Œ äºæ˜¯å¾—åˆ°ä¸¤ä¸ªç›¸ä¼¼ä¸‰è§’å½¢ï¼Œè¿™åŒæ—¶ä¹Ÿæ„å‘³ç€æ¬²æ±‚åŠ¨ç‚¹ \\(X\\) åˆ°ä¸¤åœ†å¿ƒï¼ˆå®šç‚¹ï¼‰çš„è·ç¦»æ¯”ä¸ºå®šå€¼ ï¼ˆå½“ç„¶ï¼Œå½“è¯¥æ¯”å€¼ä¸ä¸º \\(1\\)ï¼Œå¦åˆ™ç”±åæ¼”çš„æ€§è´¨å°†é€€åŒ–ä¸ºä¸€æ¡ç›´çº¿ï¼‰ã€‚ è€Œè¿™æ­£æ˜¯é˜¿åœ†çš„å®šä¹‰ã€‚ è§£ç­” æœ¬é¢˜æœ‰æ¨¡æ‹Ÿé€€ç«çš„è§£æ³•ï¼Œåœ¨æ­¤ç•¥å»ã€‚ è®¾ä¸‰ç‚¹åœ†å¿ƒåˆ†åˆ«ä¸º \\(A, B, C\\)ã€‚ æŒ‰ç…§ä¸Šé¢çš„èƒŒæ™¯ï¼Œæ ¹æ®æ¯”å€¼æ˜¯å¦ä¸º \\(1\\) å¯ä»¥è¿›è¡Œåˆ†ç±»è®¨è®ºï¼š ä¸‰ä¸ªåœ†çš„åŠå¾„ç›¸åŒï¼ˆæ ·ä¾‹çš„æƒ…å½¢ï¼‰ã€‚ è‹¥ \\(AB, AC\\) çš„ä¸­å‚çº¿æ²¡æœ‰äº¤ï¼ˆå³å¹³è¡Œï¼‰ï¼Œåˆ™æ— è§£ã€‚ å¦åˆ™è¿™æ˜¯å”¯ä¸€è§£ã€‚ åˆ¤æ–­å¹³è¡Œï¼šå‰ç§¯æ˜¯å¦ä¸º \\(0\\)ã€‚ æ±‚ä¸¤ç›´çº¿ä¸­å‚çº¿äº¤ç‚¹ï¼šè®¾ \\(AB, AC\\) ä¸­ç‚¹åˆ†åˆ«ä¸º \\(M, N,\\) ä¸¤å‚ç›´å‘é‡ä¸º \\(\\vec{u}, \\vec{v},\\) é‚£ä¹ˆäº¤ç‚¹ä¸º \\[M + \\dfrac{\\vec{v} \\times \\vec{OM} + \\vec{ON} \\times \\vec{v}}{\\vec{u} \\times \\vec{v}} \\cdot \\vec{u}\\] åŠå¾„ä¸¤ä¸¤ä¸åŒã€‚ æŒ‰ç…§æ¯”ä¾‹æ±‚å‡ºä¸¤ä¸ªé˜¿åœ†ï¼Œå³ï¼š å¯¹äº \\(A, B\\) ä¸¤åœ†ï¼Œæœ‰ä¸¤ç‚¹ä¸ä¸¤åœ†å¿ƒè¿çº¿äº¤äºï¼š \\[P = \\vec{OA} + \\vec{AB} \\times \\dfrac{rA}{rA + rB}, Q = \\vec{OA} + \\vec{AB} \\times \\dfrac{rB}{rA - rB}\\] åœ†å¿ƒ \\(M\\) ä¸º \\(P, Q\\) ä¸­ç‚¹ï¼ŒåŠå¾„ä¸º \\(P, Q\\) è·ç¦»çš„ä¸€åŠã€‚\\(A, C\\) åŒç†ã€‚ ä¸¤åœ†æœ‰äº¤ï¼ˆ\\(|R - r| &lt; d &lt; R + r\\)ï¼‰ï¼Œç¦» \\(A\\) æ›´è¿‘çš„é‚£ä¸ªå³ä¸ºæ‰€æ±‚ã€‚ å¦åˆ™æ— è§£ã€‚ å…¶ä¸­ä¸¤ä¸ªåœ†åŠå¾„ç›¸åŒã€‚ ä¸å¦¨ä»¤ \\(\\odot A\\) ä¸ \\(\\odot B\\) åŠå¾„ç›¸åŒã€‚ æ±‚å‡º \\(AB\\) ä¸­å‚çº¿ï¼Œæ ¹æ®æ¯”ä¾‹åšå‡º \\(\\odot A, \\odot C\\) çš„é˜¿åœ†ä¹‹åå’Œå¦ä¸€ä¸ªåœ†åˆ¤äº¤ã€‚ åšæ³•å’Œä¸Šé¢ç±»ä¼¼ã€‚ å±•å¼€å‚è€ƒä»£ç  æ³¨ï¼šç¬”è€…çš„ä»£ç é£æ ¼ä¸­æœ‰ä»¥ä¸‹ç®€å•è§„åˆ™ã€‚ å•å­—æ¯ \\(\\verb|point|\\) è¡¨ç¤ºç‚¹ï¼ˆæˆ–è€…ç”¨å¸Œè…Šå­—æ¯ï¼Œå¦‚ä¸‹æ–‡çš„ \\(\\tau\\)ï¼‰ï¼Œè€Œå¤šå­—æ¯è¡¨ç¤ºå‘é‡ã€‚ \\(\\verb|l-|\\) è¡¨ç¤ºé•¿åº¦ï¼Œ\\(\\verb|-v|\\) è¡¨ç¤ºæ³•å‘é‡(vertical)ã€‚ ã€Œåœ†ã€æ˜¯ç‚¹ï¼ˆå‘é‡ï¼‰çš„å­ç±»ï¼Œè¯¦ç»†è¯·è§ä»£ç ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183#include &lt;bits/stdc++.h&gt;using namespace std;using db = double;const db epsilon = 1e-6;const db pi = numbers::pi_v&lt;db&gt;;int sign(db x) { return x &gt; epsilon ? 1 : x &lt; -epsilon ? -1 : 0;}int cmp(db x, db y) { return sign(x - y);}int inmid(db x, db l, db r) { return sign(r - x) * sign(l - x) &lt;= 0;}struct point { db x, y; point() = default; point(db x, db y): x(x), y(y) {} point operator + (const point &amp; k) const { return { x + k.x, y + k.y }; } point operator - (const point &amp; k) const { return { x - k.x, y - k.y }; } point operator * (db k) const { return { k * x, k * y }; } point operator / (db k) const { return { k / x, k / y }; } bool operator == (const point &amp; k) const { return !cmp(x, k.x) &amp;&amp; !cmp(y, k.y); } bool operator &lt; (const point &amp; k) const { int X = cmp(x, k.x); if (X == -1) { return true; } if (X == +1) { return false; } return !~cmp(y, k.y); } // counterclockwise point turn(db k) { return { x * cos(k) - y * cos(k), x * sin(k) + y * cos(k) }; } db abs() { return hypot(x, y); } db abs2() { return x * x + y * y; } db dis(point k) { return (( * this) - k).abs(); } point unit() { db w = this -&gt; abs(); return { x / w, y / w }; } void in () { scanf(&quot;%lf%lf&quot;, &amp; x, &amp; y); } void out() { printf(&quot;%.11lf %.11lf&quot;, x, y); }};int inmid(point x, point l, point r) { return inmid(x.x, l.x, r.x) &amp;&amp; inmid(x.y, l.y, r.y);}db cross(point a, point b) { return a.x * b.y - a.y * b.x;}db dot(point a, point b) { return a.x * b.x + a.y * b.y;}db rad(point a, point b) { return atan2(cross(a, b), dot(a, b));}struct circle: point { db r; void in () { point:: in (); scanf(&quot;%lf&quot;, &amp; r); } void out() { point::out(); printf(&quot; %.11f\\n&quot;, r); } int inside(point k) { return cmp(r, point::dis(k)); }};int main() { circle A, B, C; A.in(), B.in(), C.in(); if (!cmp(A.r, B.r) &amp;&amp; !cmp(A.r, C.r)) { point AB = B - A, AC = C - A; if (!sign(cross(AB, AC))) { return 0x0; } point vAB { -AB.y, AB.x }, vAC { -AC.y, AC.x }; point M = A + AB * .5, N = A + AC * .5; db k = (cross(vAC, M) + cross(N, vAC)) / cross(vAB, vAC); (M + vAB * k).out(); } else if (!cmp(A.r, B.r) || !cmp(A.r, C.r) || !cmp(B.r, C.r)) { if (!cmp(A.r, C.r)) { swap(B, C); } if (!cmp(B.r, C.r)) { swap(A, C); } point AB { B - A }, vAB { -AB.y, AB.x }; point AC { C - A }, vAC { -AC.y, AC.x }; point M = A + AB * .5; point P = A + AC * (A.r / (A.r + C.r)); point Q = C + AC * (C.r / (A.r - C.r)); circle N { (P + Q) * .5, P.dis(Q) * .5 }; point MN = N - M; db lMN = MN.abs(), lvAB = vAB.abs(); db d = dot(vAB, MN) / lvAB; if (cmp(point(d, N.r).abs2(), lMN * lMN) &lt; 0) { return 0x0; } double d0 = sqrt(abs(lMN * lMN - d * d)); double d1 = d - sqrt(abs(N.r * N.r - d0 * d0)); double d2 = d + sqrt(abs(N.r * N.r - d0 * d0)); point tau1 { M + vAB.unit() * d1 }; point tau2 { M + vAB.unit() * d2 }; (cmp(A.dis(tau1), A.dis(tau2)) &lt; 0 ? tau1 : tau2).out(); } else { point AB = B - A, AC = C - A; circle M, N; { point P = A + AB * (A.r / (A.r + B.r)); point Q = B + AB * (B.r / (A.r - B.r)); M = { (P + Q) * .5, P.dis(Q) * .5 }; } { point P = A + AC * (A.r / (A.r + C.r)); point Q = C + AC * (C.r / (A.r - C.r)); N = { (P + Q) * .5, P.dis(Q) * .5 }; } db d = M.dis(N); if (cmp(abs(M.r - N.r), d) &gt;= 0 || cmp(abs(M.r + N.r), d) &lt;= 0) { return 0x0; } db theta = acos((d * d + M.r * M.r - N.r * N.r) / (d * M.r * 2)); db x = M.r * cos(theta), y = M.r * sin(theta); point MN = N - M, vMN { -MN.y, MN.x }; point S = M + MN.unit() * x; point tau1 { S + vMN.unit() * y }; point tau2 { S - vMN.unit() * y }; (cmp(A.dis(tau1), A.dis(tau2)) &lt; 0 ? tau1 : tau2).out(); } return 0 ^ 0;}","link":"cf/2/c/"},{"title":"CF3A","text":"é¢˜æ„ å›½é™…è±¡æ£‹ä¸­çš„ã€Œç‹ã€æ¯æ¬¡å¯ä»¥å‘å…«è”é€šçš„æ ¼å­ç§»åŠ¨ä¸€æ ¼ï¼Œé—®åˆ°è¾¾ç»™å®šç‚¹çš„æœ€çŸ­ç§»åŠ¨æ¬¡æ•°ï¼Œå¹¶è¾“å‡ºå¯¹åº”è·¯å¾„ã€‚ è§£ç­” ç›´è§‰ä¸Šå°½å¯èƒ½èµ°æ–œçº¿ä¼šæ›´è¿‘ä¸€äº›ï¼Œè¿™ä¸ªç›´è§‰æ˜¯æ­£ç¡®çš„ã€‚ æœ€å°‘ç§»åŠ¨æ¬¡æ•°å®é™…ä¸Šä¸ºã€Œåˆ‡æ¯”é›ªå¤«è·ç¦»ã€\\(\\max\\{|x_1 - x_2|, |y_1 - y_2|\\}\\)ã€‚ å±•å¼€å‚è€ƒä»£ç  ä¸€ä¸ªç®€å•çš„æŠ€å·§æ˜¯ï¼ŒæŠŠåæ ‡ä¸¤ç»´åˆ†å¼€è€ƒè™‘ã€‚å¯æœ‰æ•ˆé¿å…åµŒå¥—å±‚æ•°è¿‡å¤šã€‚ 123456789101112131415161718192021#include &lt;bits/stdc++.h&gt;using namespace std;int main() { cin.tie(0), ios::sync_with_stdio(0); struct { char x, y; } a, b; cin &gt;&gt; a.x &gt;&gt; a.y &gt;&gt; b.x &gt;&gt; b.y; int step = max(abs(a.x - b.x), abs(a.y - b.y)); cout &lt;&lt; step &lt;&lt; &quot;\\n&quot;; for (int i = 0; i &lt; step; ++i) { if (a.x &lt; b.x) { a.x += 1; cout &lt;&lt; &quot;R&quot;; } if (a.x &gt; b.x) { a.x -= 1; cout &lt;&lt; &quot;L&quot;; } if (a.y &lt; b.y) { a.y += 1; cout &lt;&lt; &quot;U&quot;; } if (a.y &gt; b.y) { a.y -= 1; cout &lt;&lt; &quot;D&quot;; } cout &lt;&lt; &quot;\\n&quot;; } return 0 ^ 0;}","link":"cf/3/a/"},{"title":"CF3B","text":"é¢˜æ„ \\(01\\) èƒŒåŒ…ï¼Œä½†å®¹é‡ \\(10 ^ 9\\)ï¼Œä½†ç‰©å“ä½“ç§¯ \\(\\in [1, 2]\\)ã€‚ è§£ç­” æŒ‰ç…§ä½“ç§¯åˆ†ä¸ºä¸¤ç±»ï¼Œä¸ç®¡æ˜¯å“ªä¸€ç±»ï¼Œåœ¨ä½“ç§¯ç›¸åŒæ—¶ä¸€å®šæ˜¯ä¼˜å…ˆé€‰å–ä»·å€¼æ›´å¤§çš„ç‰©å“ã€‚å› è€Œå…ˆå¯¹ä¸¤ç±»åˆ†åˆ«æ’åºã€‚ æ­¤å¤„è‹¥æ„Ÿåˆ°éš¾ä»¥ä¸ºç»§ï¼Œä¸å¦¨è¿”ç’å½’çœŸï¼Œæšä¸¾ä¸¤è€…å„è‡ªé€‰å–äº†å¤šå°‘ã€‚ å¯¹äºå…¶ä¸­ä¸€ç±»ï¼Œå¤„ç†å‡ºå‰ç¼€å’Œæ¥ï¼Œè¿™æ ·å°±å¯ä»¥å¾ˆå¥½çš„ä¸æšä¸¾ç›¸åŒ¹é…ã€‚ äºæ˜¯ç“¶é¢ˆä¸ºæ’åºï¼Œæ³¨æ„åˆ°ç‰©å“ä»·å€¼ \\(p_i \\le 10 ^ 4\\)ï¼Œä¹Ÿè®¸ä½ å¯ä»¥å°è¯•ã€ŒåŸºæ•°æ’åºã€ï¼Œä¸è¿‡ \\(\\verb|std::sort|\\) å·²ç»è¶³å¤Ÿå¿«ã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;bits/stdc++.h&gt;using ll = long long;using namespace std;int main() { cin.tie(0), ios::sync_with_stdio(0); int n, v; cin &gt;&gt; n &gt;&gt; v; vector g(2, vector&lt;pair&lt;int, int&gt;&gt;{}); g[0].reserve(n); g[1].reserve(n); for (int i = 0, cost, gain; i &lt; n; ++i) { cin &gt;&gt; cost &gt;&gt; gain; g[cost - 1].emplace_back(gain, i + 1); } int o = g[0].size(), t = g[1].size(); ranges::sort(g[0] | views::reverse); ranges::sort(g[1] | views::reverse); vector &lt;ll&gt; prefix(t + 1); for (int i = 0; i &lt; t; ++i) { prefix[i + 1] = prefix[i] + g[1][i].first; } ll ans {}, sum {}; int s { -1 }, e { -1 }; for (int i = 0; i &lt;= min(v, o); ++i) { sum += !i ? 0 : g[0][i - 1].first; int T = min(t, (v - i) / 2); if (sum + prefix[T] &gt; ans) { ans = sum + prefix[T]; tie(s, e) = tuple { i, T }; } } cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; for (auto[j, take]: { pair{0, s}, {1, e} }) { for (int i = 0; i &lt; take; ++i) { cout &lt;&lt; g[j][i].second &lt;&lt; &quot; \\n&quot; [i + 1 == take]; } } return 0 ^ 0;}","link":"cf/3/b/"},{"title":"CF3C","text":"é¢˜æ„ åˆ¤å®šç»™å®šçš„äº•å­—æ£‹å±€å±äºä½•ç§å±€é¢ã€‚ è§£ç­” éœ€è¦ç¨å¾®åˆ†ç±»è®¨è®ºä¸€ä¸‹ï¼š å¹³å±€ï¼šä¸¤è€…è½å­æ•°å’Œä¸º \\(9\\)ã€‚ \\(A/B\\) èƒœï¼šä¸‰è¿ç ã€‚ è¯¥ \\(A\\) è½å­ï¼šä¸¤è€…æ£‹å­æ•°é‡ç›¸åŒã€‚ è¯¥ \\(B\\) è½å­ï¼š\\(A\\) æ£‹å­å¤šä¸€é¢—ã€‚ éæ³•ï¼š ä¸¤è€…çš†èµ¢ã€‚ \\(A\\) è½å­æ•°é‡å¤ªå°‘ \\(A\\) è½å­æ•°é‡å¤ªå¤š \\(A\\) èµ¢äº†ä½† \\(B\\) ä¸‹äº†æ›´å¤šçš„æ£‹ \\(B\\) èµ¢äº†ä½† \\(A\\) ä¸‹äº†æ›´å¤šçš„æ£‹ å±•å¼€å‚è€ƒä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768#include &lt;bits/stdc++.h&gt;using namespace std;int main() { cin.tie(0), ios::sync_with_stdio(0); vector&lt;string&gt; s(3); for (int i = 0; i &lt; 3; ++i) { cin &gt;&gt; s[i]; } int c1 {}; for (string &amp;x: s) { c1 += ranges::count(x, 'X'); } int c2 {}; for (string &amp;x: s) { c2 += ranges::count(x, '0'); } auto get = [&amp;](char ch) -&gt; bool { bool win = false; for (int i = 0; i &lt; 3; ++i) { // æ¨ª win |= s[i] == string(3, ch); bool col = true; // çºµ for (int j = 0; j &lt; 3; ++j) { col &amp;= s[j][i] == ch; } win |= col; } if (s[1][1] == ch &amp;&amp; ( // ä¸»å¯¹è§’çº¿ (s[0][0] == s[1][1] &amp;&amp; s[0][0] == s[2][2]) || // å‰¯å¯¹è§’çº¿ (s[0][2] == s[1][1] &amp;&amp; s[0][2] == s[2][0]) )) { win = true; } return win; }; bool win = get('X'), loz = get('0'); if (c1 &lt; c2 || // A è½å­æ•°é‡å°‘ c1 &gt; c2 + 1 || // A è½å­æ•°é‡å¤š (win &amp;&amp; loz) || // win-win (loz &amp;&amp; (c1 == c2 + 1)) || // æƒœè´¥ä½†è„æ£‹ (win &amp;&amp; (c1 == c2))) { // è±ªèƒœä½†è¢«è„ cout &lt;&lt; &quot;illegal\\n&quot;; } else if (win) { cout &lt;&lt; &quot;the first player won\\n&quot;; } else if (loz) { cout &lt;&lt; &quot;the second player won\\n&quot;; } else if (c1 + c2 == 9) { cout &lt;&lt; &quot;draw\\n&quot;; } else if (c1 == c2) { cout &lt;&lt; &quot;first\\n&quot;; } else { cout &lt;&lt; &quot;second\\n&quot;; } return 0 ^ 0;}","link":"cf/3/c/"},{"title":"CF3D","text":"é¢˜æ„ ç»™å®šä¸€ä¸ªå¸¦é—®å·çš„æ‹¬å·åºåˆ—ï¼Œå°†æ¯ä¸ªé—®å·æ›¿æ¢æˆå·¦æ‹¬å·æˆ–å³æ‹¬å·å¯¹åº”ç€ä¸åŒçš„ä»£ä»·ã€‚é—®å¾—åˆ°åˆæ³•æ‹¬å·åºåˆ—çš„æœ€å°ä»£ä»·ã€‚ æˆ–æŠ¥å‘Šä¸å¯èƒ½ã€‚ è§£ç­” ä¸å¦¨ç‡å…ˆå®‰æ’æ‰€æœ‰æ‹¬å·ï¼Œå°† \\(\\verb|open|\\) è®°ä¸º \\(+\\)ï¼Œ\\(\\verb|close|\\) è®°ä¸º \\(-\\)ã€‚ è¦ä½¿æ€»ä»£ä»·æœ€å°ï¼Œå¿…ç„¶æ¯ä¸ªéƒ¨åˆ†çš„ä»£ä»·éƒ½æœ€å°ã€‚å½“ç„¶å‰ææ˜¯èƒ½å¤ŸæˆåŠŸä½¿å¾—æ‹¬å·åºåˆ—åŒ¹é…ã€‚ ä»å·¦å‘å³æ‰«æï¼Œè®°å½•å½“å‰æ‹¬å·çš„åŒ¹é…æƒ…å†µï¼Œå¦‚æœé‡åˆ°å³æ‹¬å·å¤šäºå·¦æ‹¬å·ï¼Œé€‰æ‹©ä¸€ä¸ªä¿®æ”¹ä»£ä»·æœ€å°çš„è¿›è¡Œä¿®æ”¹ã€‚å³ \\(\\verb|open| - \\verb|close|\\) æœ€å°çš„é¡¹ï¼Œéšåæ­¤é¡¹ä¸å†è¢«è€ƒè™‘ï¼Œå› æ­¤æ•´ä¸ªè¿‡ç¨‹åº”å½“ä½¿ç”¨å †æ¥ç»´æŠ¤ã€‚ å±•å¼€å‚è€ƒä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;#define R ranges#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); string s; cin &gt;&gt; s; int n = s.size(); int open {}; ll ans {}; priority_queue&lt;pair&lt;int, int&gt;&gt; q; for (int i = 0; i &lt; n; ++i) { if (s[i] == '(') { open += 1; } else if (s[i] == ')') { open -= 1; } else { int l, r; cin &gt;&gt; l &gt;&gt; r; q.emplace(-l + r, i); ans += r; s[i] = ')'; open -= 1; } if (open &lt; 0) { if (q.empty()) { break; } auto [c, i] = q.top(); q.pop(); ans -= c; s[i] = '('; open += 2; } } if (open) { cout &lt;&lt; &quot;-1\\n&quot;; } else { cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot; &lt;&lt; s &lt;&lt; &quot;\\n&quot;; } return 0 ^ 0;}","link":"cf/3/d/"},{"title":"CF4A","text":"é¢˜æ„ èƒ½å¦æŠŠ ğŸ‰ åˆ†æˆä¸¤ä¸ªæ­£å¶æ•°ï¼Ÿ è§£ç­” å½“ä¸”ä»…å½“ \\(2 \\mid\\) ğŸ‰ ä¸” ğŸ‰ \\(\\ge 4\\)ã€‚ å±•å¼€å‚è€ƒä»£ç  1234567891011#include &lt;bits/stdc++.h&gt;using namespace std;int main() { int x; cin &gt;&gt; x; cout &lt;&lt; (x % 2 == 0 &amp;&amp; x &gt;= 4 ? &quot;YES\\n&quot; : &quot;NO\\n&quot;); return 0 ^ 0;}","link":"cf/4/a/"},{"title":"CF4B","text":"é¢˜æ„ ç»™å®šæ€»æ—¶é—´ï¼Œæ˜¯å¦èƒ½é€ ä¸€å¼ å¤ä¹ è®¡åˆ’è¡¨ï¼Œä½¿å¾—æ¯ä¸€å¤©çš„å­¦ä¹ æ—¶é—´éƒ½ç”±ä¸€ä¸ªåŒºé—´é™åˆ¶ã€‚ è§£ç­” å±•å¼€å‚è€ƒä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;#define R ranges#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int n, s; cin &gt;&gt; n &gt;&gt; s; ll a{}, b{}; vector&lt;int&gt; x(n), y(n); for (int i : RI(0, n)) { cin &gt;&gt; x[i] &gt;&gt; y[i]; a += x[i]; b += y[i]; } if (s &gt; b || s &lt; a) { return cout &lt;&lt; &quot;NO\\n&quot;, int {}; } cout &lt;&lt; &quot;YES\\n&quot;; s -= a; for (int i = 0; s &amp;&amp; i &lt; n; ++i) { if (int delta = y[i] - x[i]; s &gt; delta) { s -= delta; x[i] = y[i]; } else { x[i] += s; s = 0; } } R::copy(x, ostream_iterator&lt;int&gt;(cout, &quot; &quot;)); return 0 ^ 0;}","link":"cf/4/b/"},{"title":"CF4C","text":"é¢˜æ„ ç»™å®šè‹¥å¹²ç”¨æˆ·åï¼Œå¦‚æœè¯¥ç”¨æˆ·åå¹¶éé¦–æ¬¡å‡ºç°ï¼Œè¿½åŠ æ•°å­—æ ‡è®°ã€‚å¦åˆ™è¾“å‡º OK. è§£ç­” è®°ä¸‹å‡ºç°æ¬¡æ•°ã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415161718192021222324#include &lt;bits/stdc++.h&gt;using namespace std;int main() { ios::sync_with_stdio(!cin.tie(0)); int n; cin &gt;&gt; n; map&lt;string, int&gt; occurrence; for (int i = 0; i &lt; n; ++i) { string x; cin &gt;&gt; x; occurrence[x] += 1; if (occurrence[x] == 1) { cout &lt;&lt; &quot;OK\\n&quot;; } else { cout &lt;&lt; x &lt;&lt; occurrence[x] - 1 &lt;&lt; &quot;\\n&quot;; } } return 0 ^ 0;}","link":"cf/4/c/"},{"title":"CF4D","text":"é¢˜æ„ ç»™å®š \\((w, h)\\) ä¸ \\(n\\) ç»„ \\((w_i, h_i)\\)ã€‚æ±‚å‡º \\(w_i, h_i\\) éƒ½ä¸¥æ ¼å¤§äº \\(w, h\\) çš„ä¸¥æ ¼ä¸Šå‡å­åºåˆ—ã€åŠå…¶é•¿åº¦ã€‚ è§£ç­” é¦–å…ˆæŠŠé‚£äº›æ¯” \\((w, h)\\) è¿˜è¦å°çš„å…ƒç´ éƒ½ç­›æ‰ï¼Œå‰©ä¸‹çš„é—®é¢˜æ˜¯ä¸€ä¸ªäºŒç»´ååºé—®é¢˜ã€‚å…¶å® \\(\\sout{\\rm LIS}\\) é—®é¢˜ä¹Ÿå°±æ˜¯ \\(\\sout{i \\lt j \\land a_i \\lt a_j}\\) è€Œå·²ï¼Œåªä¸è¿‡ä¸èƒ½é€‰æ‹©é‡å¤çš„ç‚¹æƒ…å†µä¸‹ç¬¬ä¸€ç»´çš„é™åˆ¶å¾ˆå¥½æ»¡è¶³ç½¢äº†ã€‚ å¤„ç†äºŒç»´ååºé—®é¢˜çš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼šå›ºå®šæŸä¸€ç»´ï¼Œæšä¸¾å¦ä¸€ç»´ã€‚ åªä¸è¿‡å¤§å¤šæ—¶é—´éƒ½å¸Œæœ›æšä¸¾çš„å¤æ‚åº¦ä½ä¸€äº›ã€‚å¦‚æœå…·æœ‰å•è°ƒæ€§ï¼Œæ—¢å¯ä»¥ç›´æ¥äºŒåˆ†ï¼Œä¹Ÿå¯ä»¥åœ¨å€¼åŸŸä¸Šå¼€ä¸€ä¸ªæ•°çŠ¶æ•°ç»„ã€‚ æœ¬é¢˜å±äº \\((h_i, w_i) \\prec (h_j, w_j)\\) ä¸” \\(h_i \\lt h_j \\land w_i \\lt w_j\\) ä¸”ä¸¤ç»´éƒ½å¯é‡çš„æƒ…å†µã€‚éœ€è¦å¯¹ç¬¬äºŒç»´è¿›è¡Œé€†åºæ’åºï¼Œéšåæ‰§è¡Œ \\(\\rm LIS\\) çš„æ­¥éª¤ã€‚ å¦å¤–ï¼Œè¾“å‡ºè·¯å¾„ï¼Œéœ€è¦è®°å½•å½“å‰æœ€é•¿å­åºåˆ—é•¿åº¦å‘ç”Ÿåœ¨å“ªä¸€ä¸ªä½ç½®ã€‚ å±•å¼€å‚è€ƒä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#include &lt;bits/stdc++.h&gt;using namespace std;#define R ranges#define V views#define RI R::iota_viewint main() { int n; cin &gt;&gt; n; int w, h; cin &gt;&gt; w &gt;&gt; h; vector a(0, tuple{0, 0, 0}); a.reserve(n); for (int i : RI(0, n)) { int wi, hi; cin &gt;&gt; wi &gt;&gt; hi; if (wi &gt; w &amp;&amp; hi &gt; h) { a.emplace_back(wi, hi, i + 1); } } // æ’åº R::sort(a, [&amp;](auto a, auto b) { auto [wa, ha, _a] = a; auto [wb, hb, _b] = b; return wa == wb ? ha &gt; hb : wa &lt; wb; }); n = a.size(); vector&lt;int&gt; dp(n + 1, 1E9); vector&lt;int&gt; f(n, 0); int top = 0; for (int i : RI(0, n)) { auto pos = lower_bound(dp.begin(), dp.begin() + top + 1, get&lt;1&gt;(a[i])); top = max(top, f[i] = pos - dp.begin()); *pos = get&lt;1&gt;(a[i]); } vector ans(0, 0); ans.reserve(n); // å€’ç€è·‘ for (int i : RI(0, n) | V::reverse) { if (f[i] == top) { ans.push_back(get&lt;2&gt;(a[i])); top -= 1; } } cout &lt;&lt; ans.size() &lt;&lt; &quot;\\n&quot;; R::copy(ans | V::reverse, ostream_iterator&lt;int&gt;{cout, &quot; &quot;}); return 0 ^ 0;}","link":"cf/4/d/"},{"title":"CF5A","text":"é¢˜æ„ ä¸ºèŠå¤©ç³»ç»Ÿå®ç°ä»¥ä¸‹ä¸‰ä¸ªåŠŸèƒ½ï¼š æ·»åŠ ç”¨æˆ· åˆ é™¤ç”¨æˆ· å‘æ‰€æœ‰ç”¨æˆ·å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œè¿™è´¡çŒ®ç”¨æˆ·æ•°é‡ \\(\\times\\) ä¿¡æ¯é•¿åº¦çš„æµé‡ã€‚ è¾“å‡ºæ€»æµé‡ã€‚ è§£ç­” å› ä¸ºæ•°æ®ä¿è¯ä¸ä¼šæ·»åŠ å·²ç»æ·»åŠ è¿‡çš„ç”¨æˆ·ã€ä¸ä¼šåˆ é™¤ä¸å­˜åœ¨çš„ç”¨æˆ·ã€‚åªéœ€è¦è®°ä¸‹å½“å‰çš„ç”¨æˆ·æ€»æ•°ã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415161718192021222324#include &lt;bits/stdc++.h&gt;using namespace std;int main() { ios::sync_with_stdio(!cin.tie(0)); string s; int ans{}, online{}; while (getline(cin, s)) { if (s[0] == '+') { online += 1; } else if (s[0] == '-') { online -= 1; } else { ans += online * (s.size() - s.find(&quot;:&quot;) - 1); } } cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; return 0;}","link":"cf/5/a/"},{"title":"CF5B","text":"é¢˜æ„ å°†ç»™å®šçš„è‹¥å¹²å­—ç¬¦ä¸²å±…ä¸­æ’ç‰ˆï¼Œå¦‚æœæ— æ³•å®Œç¾å±…ä¸­ã€‚ä¾æ¬¡å‘å·¦ã€å‘å³å¾®è°ƒä¸€ä¸ªå­—ç¬¦ã€‚ è§£ç­” è®°ä¸‹æœ€é•¿çš„ä¸€è¡Œï¼Œéšåéœ€è¦è®°ä¸‹æ¥æ˜¯ç¬¬å‡ æ¬¡æ— æ³•å®Œç¾å±…ä¸­ã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415161718192021222324252627282930313233343536#include &lt;bits/stdc++.h&gt;using namespace std;int main() { ios::sync_with_stdio(!cin.tie(0)); string s; vector&lt;string&gt; x; size_t m{}; while (getline(cin, s)) { x.push_back(s); m = max(m, s.size()); } cout &lt;&lt; string(m + 2, '*') &lt;&lt; &quot;\\n&quot;; bool occur = true; for (string&amp; si : x) { int s = m - si.size(); occur ^= s &amp; 1; int offset = occur * (s &amp; 1); cout &lt;&lt; '*'; cout &lt;&lt; string((s + offset) / 2, ' ') &lt;&lt; si &lt;&lt; string((s + 1 - offset) / 2, ' '); cout &lt;&lt; &quot;*\\n&quot;; } cout &lt;&lt; string(m + 2, '*') &lt;&lt; &quot;\\n&quot;; return 0;}","link":"cf/5/b/"},{"title":"CF5C","text":"é¢˜æ„ è®¡ç®—å‡ºç»™å®šæ‹¬å·åºåˆ—çš„æœ€é•¿åˆæ³•æ‹¬å·åºåˆ—é•¿åº¦ä»¥åŠæ•°é‡ã€‚ ç‰¹æ®Šçš„ï¼Œå¦‚æœæ²¡æœ‰åˆæ³•åºåˆ—ï¼Œè¾“å‡º \\(\\verb|&quot;0 1&quot;|\\)ã€‚ è§£ç­” ç”¨æ ˆè¿›è¡Œæ‹¬å·åŒ¹é…ï¼Œä¸­é€”è®°ä¸‹æ‰€æœ‰åˆæ³•çš„ä½ç½®ã€‚æœ€åæ‰«æä¸€æ¬¡ï¼ŒæœŸé—´ç»´æŠ¤ä¸¤ä¸ªç­”æ¡ˆã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;bits/stdc++.h&gt;using namespace std;#define R ranges#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); string s; cin &gt;&gt; s; int n = s.size(); vector&lt;int&gt; stk; stk.reserve(n); vector&lt;bool&gt; vis(n); for (int i : RI(0, n)) { if (char si{s[i]}; si == '(') { stk.push_back(i); } else if (stk.size()) { vis[i] = vis[stk.back()] = true; stk.pop_back(); } } int m{}, occur{1}, cnt{}; for (int i : RI(0, n)) { cnt = vis[i] ? cnt + 1 : 0; if (m != 0 &amp;&amp; cnt == m) { occur += 1; } else if (m &lt; cnt) { m = cnt; occur = 1; } } cout &lt;&lt; m &lt;&lt; &quot; &quot; &lt;&lt; occur &lt;&lt; &quot;\\n&quot;; return 0;}","link":"cf/5/c/"},{"title":"CF5D","text":"é¢˜æ„ è½¦è¾†å§‹ç»ˆä»¥ \\(a\\) çš„åŠ é€Ÿåº¦è¡Œé©¶ï¼Œæœ€å¤§é€Ÿåº¦ä¸º \\(v\\)ã€‚è·¯ç¨‹æ€»é•¿ \\(l\\)ï¼Œåœ¨ \\(d\\) ä½ç½®ä¸Šæœ‰ä¸€ä¸ªé™é€Ÿç‚¹ï¼Œé™åˆ¶ è¯¥ç‚¹é€Ÿåº¦ ä¸º \\(w\\)ã€‚ æ±‚é€šè¿‡æ­¤è·¯æ®µçš„æœ€çŸ­æ—¶é—´ã€‚ è§£ç­” é«˜ä¸­ç‰©ç†é¢˜ã€‚å¯ä»¥ä½¿ç”¨ç”»å›¾çš„æ–¹å¼ä¾¿äºç†è§£ï¼Œä½†æ€»çš„æ¥è¯´éœ€è¦è€ƒè™‘è®¸å¤šæƒ…å†µï¼š ä¸€ç›´åŠ é€Ÿï¼Œå³ä½¿åˆ°è¾¾é™é€Ÿç‚¹ï¼Œé€Ÿåº¦ä¹Ÿä¾ç„¶åœ¨å¯æ§åˆ¶çš„èŒƒå›´å†…ã€‚é‚£ä¹ˆä¸€ç›´åŠ é€Ÿè¿‡å»å°±å¯ä»¥äº†ã€‚ å¦åˆ™ï¼Œéœ€è¦åœ¨æ£€æŸ¥ç‚¹ä¹‹å‰å‡é€Ÿåˆ° \\(w\\)ã€‚ å¦‚æœåœ¨æ­¤è¿‡ç¨‹ä¸­ç”šè‡³æ²¡æœ‰åˆ°æœ€å¤§é€Ÿåº¦ï¼ˆæˆ–ç¬é—´å¼€å§‹å‡é€Ÿï¼‰ï¼Œæ„å‘³ç€å…³äºé€Ÿåº¦çš„å›¾åƒå½¢å¦‚ \\(\\boxed{\\diagup\\diagdown}\\)ã€‚ å¦åˆ™æœ‰ä¸€æ®µä»¥æœ€å¤§é€Ÿåº¦åŒ€é€Ÿè¡Œé©¶çš„é˜¶æ®µã€‚å³ \\(\\boxed{\\diagup\\overline{v \\rightarrow v}\\diagdown}\\)ã€‚ æœ€åä¸€ç›´åŠ é€Ÿåˆ°ç»ˆç‚¹ã€‚ ğŸ‡¨ğŸ‡³ ä»¥ä¸Šå†…å®¹å¯¹äºä¸­å›½ç†ç§‘ç”Ÿæ¥è¯´ååˆ†å®¹æ˜“ï¼Œå…·ä½“æ¯ä¸€æ­¥çš„è§£æå¦‚ä¸‹ï¼š è®²è§£ä¸€ï¼šè®¡ç®—æ—¶é—´ ç»™å®šåˆé€Ÿåº¦ \\(v_0\\)ï¼Œé™é€Ÿ \\(v_m\\)ï¼ŒåŠ é€Ÿåº¦ä¸º \\(a\\)ï¼Œèµ°è¿‡ \\(l\\) é•¿è·¯çš„æœ€çŸ­æ—¶é—´ã€‚ ç»™å®šåŒç‚¹é€Ÿåº¦ï¼Œä½¿ç”¨ \\(v_t^2 - v_0^2 = 2ax\\) æ¥æ±‚å¾—ä½ç§» \\(x\\)ã€‚ è‹¥ä½ç§»æ¯” \\(l\\) è¦å¤§ï¼ˆæˆ–ç­‰ï¼‰ï¼Œé‚£ä¹ˆç›´æ¥å†²è¿‡å»å°±å¥½äº†ã€‚æ—¶é—´èŠ±è´¹ä¸ºæ–¹ç¨‹ \\(\\dfrac{1}{2}at^2 + v_0t = l\\) çš„å®æ•°è§£ \\[\\color{red}\\boxed{\\dfrac{-v_0 + \\sqrt{v_0^2 + 2al}}{a}}\\] å¦åˆ™å…ˆåŠ é€Ÿåˆ° \\(v_m\\) éšåä¸€ç›´åŒ€é€Ÿã€‚å³ \\[\\color{red}\\boxed{t = \\dfrac{v_m - v_0}{a} + \\dfrac{l - x}{v_m}}\\] 1234567auto T = [&amp;](db v0, db vm, db a, db l) -&gt; db { if (db x = (vm + v0) * (vm - v0) / (2 * a); x - l &gt; -epsilon) { return (sqrt(v0 * v0 + 2 * a * l) - v0) / a; } else { return (vm - v0) / a + (l - x) / vm; }}; è®²è§£äºŒï¼šæƒ…å½¢ 2-1 çš„åˆ†ç•Œç‚¹ è®¾ä»é€Ÿåº¦ \\(v_t\\) æ—¶å¼€å§‹å‡é€Ÿã€‚ä½¿ç”¨ä¸¤æ¬¡ \\(v_t^2 - v_0^2 = 2ax\\) å¾—ï¼š \\[\\dfrac{v_t^2}{2a} + \\dfrac{v_t^2 - w^2}{2a} = d\\] äºæ˜¯ï¼š \\[\\color{red}\\boxed{v_t = at_0 = \\sqrt{\\dfrac{2ad + w ^ 2}{2}}}\\] å¦‚æœ \\(v_t \\le v\\)ï¼Œè¯´æ˜ä¸­é—´ä¸å­˜åœ¨ä¸€æ®µåŒ€é€Ÿè¡Œé©¶çš„è·¯æ®µï¼Œæ ¹æ®å¯¹ç§°æ€§ï¼Œå¯å¾— \\(t_1 = 2t_0 - \\dfrac{w}{a}\\)ã€‚å›¾åƒå¦‚ä¸‹ï¼š å¯¹ç§°æ€§ å±•å¼€å‚è€ƒä»£ç  12345678910111213141516171819202122232425262728293031323334353637#include &lt;bits/stdc++.h&gt;using namespace std;using db = double;static constexpr db epsilon = 1E-6;int main() { ios::sync_with_stdio(!cin.tie(0)); cout &lt;&lt; fixed &lt;&lt; setprecision(10); auto T = [&amp;](db v0, db vm, db a, db l) -&gt; db { if (db x = (vm + v0) * (vm - v0) / (2 * a); x - l &gt; -epsilon) { return (sqrt(v0 * v0 + 2 * a * l) - v0) / a; } else { return (vm - v0) / a + (l - x) / vm; } }; db a, v, l, d, w; cin &gt;&gt; a &gt;&gt; v &gt;&gt; l &gt;&gt; d &gt;&gt; w; if (db s = w * w / (2 * a); s - d &gt; -epsilon || w - v &gt; -epsilon) { cout &lt;&lt; T(0, v, a, l) &lt;&lt; &quot;\\n&quot;; } else { db t1{}; if (db t0 = sqrt((2 * a * d + w * w) / (2 * a * a)); t0 * a - v &lt; epsilon) { t1 = 2 * t0 - w / a; } else { db x1 = v * v / (2 * a); db x2 = (v + w) * (v - w) / (2 * a); t1 = v / a + (v - w) / a + (d - x1 - x2) / v; } cout &lt;&lt; t1 + T(w, v, a, l - d) &lt;&lt; &quot;\\n&quot;; } return 0;}","link":"cf/5/d/"},{"title":"CF5E","text":"é¢˜æ„ ç»™å®šä¸€ä¸ª \\(n\\) ä¸ªç‚¹çš„ç¯ï¼Œè®¡ç®—å¯¹å­ \\((i, j), i \\ne j\\) çš„æ•°é‡ã€‚å…¶ä¸­ \\(i, j\\) ç›¸è¿çš„ä¸¤æ¡å¼§ä¸­ä»»æ„ä¸€æ¡æ²¡æœ‰æ¯”ä»–ä»¬æ›´é«˜çš„ç‚¹ã€‚ è§£ç­” é‡åˆ°ç¯çš„ç¬¬ä¸€æƒ³æ³•åº”è¯¥æ˜¯ç ´ç¯æˆé“¾ã€‚é¢˜ç›®å¸Œæœ›ä¸¤ä¸ªç‚¹ä¸­é—´æ²¡æœ‰æ¯”ä»–ä»¬é«˜çš„ç‚¹ï¼Œæœ€é«˜çš„ç‚¹ä¸€å®šæ˜¯ç­”æ¡ˆçš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤ä¸å¦¨ä»è¿™é‡Œç ´å¼€ã€‚æ¥ç€å°±å¯ä»¥è€ƒè™‘åœ¨é“¾ä¸Šæ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜äº†ã€‚ è¿æ¥ä»»æ„ä¸¤ç‚¹ï¼Œé“¾ä¸åˆæ³•å°†ä¼šåœ¨ä¸­é—´æŸç‚¹æ–­å¼€ï¼Œä½¿å¾—æŸæ®µæ˜¯åˆæ³•çš„è§£ã€‚å¯¹äºå›ºå®šçš„å³ç«¯ç‚¹æ¥è¯´ï¼Œè¿™ä¸ªæ–­å¼€çš„ç‚¹æ˜¯å·¦è¾¹æœ€è¿‘çš„ã€æ¯”ä»–å¤§çš„ç‚¹ã€‚ è¿™æ˜¯å•è°ƒæ ˆçš„åŸºæœ¬é—®é¢˜ï¼Œå³ \\(\\rm NGE\\)ï¼ˆNext Greater Elementï¼‰ã€‚ å±•å¼€å‚è€ƒä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;#define R ranges#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int n; cin &gt;&gt; n; vector a(n, 0); int pos{}; for (int i : RI(0, n)) { cin &gt;&gt; a[i]; if (a[i] &gt; a[pos]) { pos = i; } } R::rotate(a, a.begin() + pos); // ++top, top--, top é•¿åº¦ä¸Šå®Œèƒœ // push_back pop_back back int top{}; vector stk(n + 1, 0); vector cnt(n + 1, 0); // æ¬¡æ•° // n - 1 å¯¹ç›¸é‚» ll ans{n - 1}; for (int i : RI(1, n)) { // æšä¸¾å³ç«¯ç‚¹ // åŒ¹é…æ›´å¤§çš„å·¦ç«¯ç‚¹ while (top &amp;&amp; stk[top] &lt; a[i]) { ans += cnt[top--]; } // ä¸¥æ ¼é«˜äº -- è¦åˆ¤é‡ if (stk[top] != a[i]) { stk[++top] = a[i]; cnt[top] = 0; } ans += cnt[top]++; } // æœ€åä¸€æ¬¡: åŠ å…¥æœ€å¤§å€¼ while (top &gt; 1) { ans += cnt[top--]; } cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; return 0;}","link":"cf/5/e/"},{"title":"CF652D","text":"é¢˜æ„ ç»™å®šè‹¥å¹²çº¿æ®µï¼Œé—®æ¯æ¡çº¿æ®µåŒ…å«å¤šå°‘æ¡å…¶ä»–çº¿æ®µï¼Œä¿è¯ç«¯ç‚¹ä¸é‡åˆã€‚ \\(1 \\le n \\le 2 \\times 10 ^ 5\\) \\(- 10 ^ 9 \\le l_i \\lt r_i \\le 10 ^ 9\\) è§£ç­” çº¿æ®µä¹‹é—´çš„åŒ…å«å…³ç³»å¯ä»¥æè¿°ä¸º \\[ (l_i, r_i) \\prec (l_j, r_j) \\xlongequal{ ç­‰ä»·äº } l_i \\gt l_j \\land r_i \\lt r_j \\] è¿™æ ·é—®é¢˜å°±è½¬åŒ–ä¸ºäºŒç»´æ•°ç‚¹äº†ï¼Œæ•°æ®ä¿è¯ä¸é‡åˆï¼Œè‡ªç„¶ä¹Ÿä¸éœ€è¦è€ƒè™‘æ’åºã€‚ CF652D.cpp >folded1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859// g++ CF652D.cpp -std=c++17 -Os -DLOCAL -o CF652D#include &lt;bits/stdc++.h&gt;using namespace std;static constexpr int maxn = 200010;array&lt;int, 3&gt; a[maxn];int c[maxn], tot;int n;int ans[maxn];int tr[maxn];int qry(int i) { int ans{}; for (; i; i -= i &amp; -i) { ans += tr[i]; } return ans;}void mdf(int i, int x) { for (; i &lt;= n; i += i &amp; -i) { tr[i] += x; }}int main() { ios::sync_with_stdio(!cin.tie(0)); cin &gt;&gt; n; for (int i = 1; i &lt;= n; ++i) { cin &gt;&gt; a[i][0] &gt;&gt; a[i][1]; a[i][2] = i; c[i] = a[i][1]; } sort(a + 1, a + 1 + n, [](auto &amp;a, auto &amp;b) { if (a[0] == b[0]) { return a[1] &lt; b[1]; } return a[0] &gt; b[0]; }); sort(c + 1, c + 1 + n); tot = unique(c + 1, c + 1 + n) - (c + 1); for (int i = 1; i &lt;= n; ++i) { int l = lower_bound(c + 1, c + 1 + tot, a[i][1]) - c; ans[a[i][2]] += qry(l); mdf(l, 1); } for (int i = 1; i &lt;= n; ++i) { cout &lt;&lt; ans[i] &lt;&lt; &quot;\\n&quot;; } return 0 ^ 0;}","link":"cf/652/d/"},{"title":"EC2017-XiAn-G","text":"é¢˜æ„ å¤šæ¬¡è¯¢é—®æŸåŒºé—´å†…æ‰€æœ‰åŒºé—´çš„å¼‚æˆ–å’Œã€‚ \\(0 \\le A_i \\le 10 ^ 6\\) \\(1 \\le n, q \\le 10 ^ 5\\) https://nanti.jisuanke.com/t/A1613 ç”¨å‰ç¼€å’Œè§£ç­” æŒ‰ä½è€ƒè™‘ï¼Œå¯¹äºæ¯ä¸€ä½æ¥è¯´ï¼Œå…¶è´¡çŒ® \\(s_i\\) ä¸º \\(1\\) çš„ä½ã€‚äºæ˜¯ç­”æ¡ˆä¸ºã€Œå‰ç¼€å¼‚æˆ–å’Œæ•°ç»„ä¸­ä¸¤ä¸¤å¼‚æˆ–å†æ±‚å’Œçš„å€¼ã€ï¼Œä¹Ÿå°±æ˜¯åªæœ‰ \\(01\\) ä¹‹é—´æ‰æœ‰è´¡çŒ®ï¼Œäºæ˜¯æ¯ä¸€æ®µçš„è´¡çŒ®ä¸ºï¼š \\[ 2^i \\times \\operatorname{cnt}_1 \\times \\operatorname{cnt}_0 \\] å±•å¼€å‚è€ƒä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include &lt;bits/stdc++.h&gt;using ll = long long; // &lt;+&gt;const int maxn = 10 + 100000, bits = 21, mod = 1000000007;int s[bits][maxn];int main() { std::cin.tie(nullptr) -&gt; sync_with_stdio(false); int tests; std::cin &gt;&gt; tests; while (tests--) { int n, q; std::cin &gt;&gt; n &gt;&gt; q; for (int i = 1, x; i &lt;= n; ++i) { std::cin &gt;&gt; x; for (int j = 0; j &lt; bits; ++j) { s[j][i] = s[j][i - 1] ^ (x &gt;&gt; j &amp; 1); } } for (int j = 0; j &lt; bits; ++j) { for (int i = 1; i &lt;= n; ++i) { s[j][i] += s[j][i - 1]; } } while (q--) { int l, r; std::cin &gt;&gt; l &gt;&gt; r; l -= 1; ll ans {}; for (int j = 0; j &lt; bits; ++j) { int o = s[j][r] - s[j][l - 1], z = (r - l + 1) - o; ans = (ans + 1 LL * o * z % mod * (1 LL &lt;&lt; j) % mod) % mod; } std::cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; } } return 0 ^ 0;}","link":"ec/2017/xian/g/"},{"title":"NC11255E","text":"é¢˜æ„ \\(n\\) ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œç»™å®šè¾¹æƒä¸ºä¸¤ç‚¹ç‚¹æƒå¼‚æˆ–å’Œ \\(w_{u, v} = w_u \\oplus w_v\\)ã€‚æ¯ä¸ªç‚¹æƒçš„å–å€¼èŒƒå›´ \\(l_i \\le w_i \\le r_i\\)ï¼Œæ±‚æ»¡è¶³æ¡ä»¶çš„ \\(w_i\\) çš„æ•°é‡ã€‚ \\(n \\in [1, 10 ^ 5], l_i, r_i \\in [1, 2 ^ {30}]\\) https://ac.nowcoder.com/acm/contest/11255/E è§£ç­” ç¡®å®šä»»ä¸€ç‚¹å³å¯ç¡®å®šæ•´æ£µæ ‘ï¼Œä¸å¦¨ä»¥æ ¹ä¸ºä¸­å¿ƒã€‚å¦‚æœç°åœ¨æ ¹èŠ‚ç‚¹æ˜¯ \\(x \\in [l_0, r_0]\\)ï¼Œéœ€è¦è€ƒè™‘å¯¹äºå…¶ä»–èŠ‚ç‚¹æ¥è¯´æ˜¯å¦æœ‰ï¼š \\[ w_i \\in [l_i, r_i] \\overset{?}{\\Rightarrow} w_i \\oplus x \\in [l_i, r_i] \\] ç­‰å·æˆç«‹ï¼Œå½“ä¸”ä»…å½“ \\([l, r]\\) ä¸­åŒ…å« \\(2 ^ k\\) ä¸ªæ•°å¹¶ä¸”ä½ \\(k\\) ä½åŒ…å« \\(0 \\sim 2 ^ k - 1\\) 1ã€‚ ã€Œä½ä½åŒ…å«å…¨éƒ¨çš„æ•°ã€è¿™æ ·çš„æ¡ä»¶ï¼Œå³å¯ä»¥è½¬æ¢ä¸ºä¸€æ®µè¿ç»­çš„åŒºé—´ä»è€Œåœ¨å€¼åŸŸå¼€çº¿æ®µæ ‘æ¥è§£å†³ï¼Œä¹ŸåŒæ—¶æ„å‘³ç€è¿™äº›ç‚¹æ˜¯ Trie çš„ä¸€æ£µå­æ ‘ã€‚ ç”¨ Trie æ ‡è®°å‡ºä¸åˆæ³•çš„åŒºé—´ï¼Œå†è®¡ç®—è¯¥å­æ ‘çš„è´¡çŒ®å³å¯ï¼ˆç›¸å½“äºå¯¹è‹¥å¹²åˆæ³•åŒºé—´æ±‚äº¤ï¼‰ã€‚æ›´è¯¦ç»†çš„éƒ¨åˆ†å¯è§ä»£ç æ³¨é‡Šã€‚ å±•å¼€å‚è€ƒä»£ç  123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113#include &lt;bits/stdc++.h&gt;using ll = long long;using namespace std;// ç­‰ä»·äº const int N; å­—å…¸æ ‘è¦å¼€ bits * nodesenum { N = 30 * 100010};int n;int head[N], cnt, u, v, w;struct { int next, to, w;}edges[N &lt;&lt; 1];void addEdge(int u, int v, int w) { edges[++cnt] = { head[u], v, w }; head[u] = cnt;}// Trie éƒ¨åˆ†. T tag {0/1/2} è¡¨ç¤º {2/1/0} ä¸ªå„¿å­åˆæ³•int son[N][2], tot;int T[N];int newNode() { ++tot; T[tot] = son[tot][0] = son[tot][1] = 0; return tot;}int trie(int u, int b, int l, int r, int w) { // å·²ç»ä¸åˆæ³•/è¿™é¢—å­æ ‘è¦†ç›– 2 ^ bits ä¸ªæ ‘ // å³ r - l = 2 ^ (b + 1) - 1 ä¸‹åŒ if (T[u] == 2 || r - l == ~-(1 &lt;&lt; -~b)) { return T[u]; } for (int v: { 0, 1 }) { if (!son[u][v]) { son[u][v] = newNode(); } } // l, r ç¬¬ b ä½ç›¸åŒ if (int m = 1 &lt;&lt; b; (l &amp; m) == (r &amp; m)) { // å½“å‰çš„æƒä¸ l ç¬¬ b ä½ç›¸åŒ // ä¸ç›¸åŒçš„é‚£ä¸€éƒ¨åˆ† l, r ä¹Ÿç®¡ä¸äº†ç›´æ¥æ ‡è®°ä¸ºæ— ç”¨ bool st = (l &amp; m) ^ (w &amp; m); T[son[u][!st]] = 2; // m = 2 ^ b. %m å…¶å®å°±æ˜¯ &amp; ( m - 1 ) T[u] = trie(son[u][st], b - 1, l % m, r % m, w) == 2 ? 2 : 1; } else { bool st = w &amp; m; // b ä½æ˜¯ 1/0 æ—¶å­æ ‘çš„æƒ…å†µ int lft = trie(son[u][st], b - 1, l % m, m - 1, w); int rgt = trie(son[u][!st], b - 1, 0, r % m, w); if (lft == 2 &amp;&amp; rgt == 2) { T[u] = 2; } else if (lft != 2 || rgt != 2) { T[u] = 1; } } return T[u];}int L[N], R[N];void dfs(int u, int p, int w) { trie(1, 29, L[u], R[u], w); for (int i = head[u]; i; i = edges[i].next) { if (int v = edges[i].to; v != p) { dfs(v, u, w ^ edges[i].w); } }}ll ans {};void getAns(int u, int b) { if (!T[u]) { // æ•´æ£µæ ‘éƒ½å¯ä»¥ç”¨ ans += 1 LL &lt;&lt; -~b; } else if (T[u] == 1) { // åªæœ‰ä¸€è¾¹èƒ½ç”¨ for (int v: { 0, 1 }) { if (T[son[u][v]] != 2) { getAns(son[u][v], b - 1); } } }}int main() { scanf(&quot;%d&quot;, &amp; n); for (int i = 1; i &lt;= n; ++i) { scanf(&quot;%d%d&quot;, L + i, R + i); } for (int i = 1; i &lt; n; ++i) { scanf(&quot;%d%d%d&quot;, &amp; u, &amp; v, &amp; w); addEdge(u, v, w); addEdge(v, u, w); } newNode(); dfs(1, 0, 0); getAns(1, 29); printf(&quot;%lld&quot;, ans); return 0 ^ 0;} è¿™é‡Œéšå«äº†é«˜ä½å‡ç›¸åŒçš„å‰æï¼Œå¯¹äºé¢˜ç›®ä¸­çš„åŒºé—´æ¥è¯´ï¼Œè¿™æ˜¾ç„¶æ˜¯æˆç«‹çš„ã€‚â†©ï¸","link":"nc/11255/e/"},{"title":"P1823","text":"é¢˜æ„ å’Œ CF5E ååˆ†ç±»ä¼¼ï¼Œä½†æ²¡æœ‰ã€Œç¯ã€è¿™ä¸€æ¡ä»¶ã€‚ https://www.luogu.com.cn/problem/P1823 è§£ç­” å¦‚æœæŒ‰ç…§ä¸Šé¢çš„åšæ³•å°è¯•è§£å†³æ­¤é¢˜ï¼Œä¼šå‘ç°å¤§å¤šæ—¶å€™éƒ½æ•°å¤šäº†ã€‚TODO: 2022-08-19 08:59:06 Patricky åŸå› æœªçŸ¥ã€‚ 12345678910111213141516int top{};vector stk(n + 1, 0);vector cnt(n + 1, 0);ll ans{};for (int i : RI(0, n)) { while (top &amp;&amp; stk[top] &lt; a[i]) { ans += cnt[top--]; } ans += !!top; if (stk[top] != a[i]) { stk[++top] = a[i]; cnt[top] = 0; } ans += cnt[top]++;} è®°å½•ä¸‹æ¥ç›¸åŒå…ƒç´ çš„å‡ºç°æ¬¡æ•°ç„¶åç»Ÿè®¡ã€‚ å±•å¼€å‚è€ƒä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;#define R ranges#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int n; cin &gt;&gt; n; vector a(n, 0); for (int i : RI(0, n)) { cin &gt;&gt; a[i]; } int top{}; // å­˜å‚¨å…ƒç´ ä»¥åŠå‡ºç°æ¬¡æ•° vector stk(n + 1, array&lt;int, 2&gt;{}); ll ans{}; for (int i : RI(0, n)) { int cnt{}; while (top &amp;&amp; stk[top][0] &lt;= a[i]) { if (stk[top][0] == a[i]) { cnt = stk[top][1]; } ans += stk[top--][1]; } // ç›¸é‚»å…ƒç´  ans += !!top; stk[++top] = {a[i], cnt + 1}; } cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; return 0;}","link":"p/1823/"},{"title":"P2163","text":"é¢˜æ„ è¿™æ˜¯äºŒç»´æ•°ç‚¹çš„æ¨¡æ¿é¢˜ã€‚ å¤šæ¬¡æŸ¥è¯¢å¹³é¢ä¸ŠæŸçŸ©å½¢å†…çš„ç‚¹æ•°ï¼Œä¸€ä¸ªåæ ‡ä¸Šå¯èƒ½æœ‰å¤šä¸ªç‚¹ã€‚ ç‚¹æ•° \\(5 \\times 10 ^ 5\\) å¤§å° \\(10 ^ 7\\) è¯¢é—®æ¬¡æ•° \\(5 \\times 10 ^ 5\\) https://www.luogu.com.cn/problem/P2163 https://darkbzoj.cc/problem/1935 è§£ç­” æ ¹æ®äºŒç»´å‰ç¼€å’Œçš„å¯ç¤ºï¼Œåªéœ€è¦æ±‚å¾—ä» \\((0, 0)\\) åˆ° \\((x, y)\\) è¿™ä¸ªçŸ©å½¢çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥ \\(\\mathcal O(1)\\) è®¡ç®—å‡ºç­”æ¡ˆã€‚ å…·ä½“è€Œè¨€ä¸å‡ºæ¥äº†ã€‚ğŸ˜… åšå®¢ç«™å±…ç„¶æ¸²æŸ“ä¸äº†ä¸‹é¢è¿™æ®µä»£ç ï¼Œåæ­£å°±æ˜¯å®¹æ–¥ä¸€ä¸‹ã€‚>folded1234567891011$$\\begin{aligned}&amp;\\boxed{S_{{x_1, y_1} \\rightarrow {x_2, y_2}}}\\\\=\\quad&amp;S_{0, 0 \\rightarrow {x_2, y_2}}\\quad&amp;-\\quad&amp;S_{0, 0 \\rightarrow {x_2, y_1 - 1}}\\\\-\\quad&amp;S_{0, 0 \\rightarrow {x_1 - 1, y_2}}\\quad&amp;+\\quad&amp;S_{0, 0 \\rightarrow {x_1 - 1, y_1 - 1}}\\end{aligned}$$ æœ´ç´ çš„äºŒç»´å‰ç¼€å’ŒèŠ±è´¹ \\(\\mathcal O(n ^ 2)\\)ï¼Œå½“ç„¶æ˜¯ä¸è¡Œçš„ï¼Œé‡æ–°æ•´ç†é—®é¢˜ï¼Œå³æ±‚ï¼š \\[ \\sum_{i=0}^{x} \\sum_{j=0}^y S_{i, j} \\xlongequal{ç­‰ä»·äº}\\sum_{i=0}^{x} \\sum_{j=0}^y [(i, j) \\prec (x, y)], \\mathrm{\\;where\\;} i \\le x \\land j \\le y \\] è¿™æ ·çš„ç‚¹å¯¹ï¼Œå¯ä»¥ç”¨å…ˆå‰æåˆ°çš„äºŒç»´ååºè§£å†³ã€‚å°½ç®¡åæ ‡ä¸Šå¯èƒ½ä¼šæœ‰ç‚¹é‡å¤ï¼Œä½†å¹¶ä¸å½±å“ã€‚å°†è¯¢é—®ç¦»çº¿ä¸‹æ¥ä¹‹åå’ŒåŸæ•°æ®éƒ½æŒ‰ç…§æ¨ªåæ ‡æ’åºã€‚æ¥ç€ç¦»æ•£åŒ–ï¼Œæœ€åç”¨æ ‘çŠ¶æ•°ç»„ç»Ÿè®¡ç­”æ¡ˆï¼š 12345678for (int i = 1, j = 1; i &lt;= t; ++i) { // æŠŠå°äºå½“å‰è¯¢é—®æ¨ªåæ ‡çš„ç‚¹(çš„çºµåæ ‡)åŠ åˆ°æ ‘çŠ¶æ•°ç»„é‡Œ while (j &lt;= n &amp;&amp; a[j][0] &lt;= q[i][0]) { mdf(a[j++][1], 1); } // å¯¹äºæ¯ä¸ªè¯¢é—® æ±‚å‡ºå‰ç¼€å’Œ åˆ©ç”¨å®¹æ–¥æ ‡è®°ç¬¦å· ans[q[i][2]] += q[i][3] * qry(q[i][1]);} ä¸‹é¢çš„ä»£ç å¸å¸æ°§æ‰èƒ½è¿‡ P2163.cpp >folded123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081// g++11 P2163.cpp -o P2163 -std=c++11 -O2#include &lt;bits/stdc++.h&gt;using namespace std;static constexpr int maxn = 5000005;// x, yarray&lt;int, 2&gt; a[maxn];// x, y, id, weightarray&lt;int, 4&gt; q[maxn &lt;&lt; 2];int n, m, t, ans[maxn];int c[maxn * 5], tot;int tr[maxn];int qry(int i) { int ans{}; for (; i; i -= i &amp; -i) { ans += tr[i]; } return ans;}void mdf(int i, int v) { for (; i &lt;= n; i += i &amp; -i) { tr[i] += v; }}int main() { ios::sync_with_stdio(!cin.tie(0)); cin &gt;&gt; n &gt;&gt; m; for (int i = 1; i &lt;= n; ++i) { cin &gt;&gt; a[i][0] &gt;&gt; a[i][1]; a[i][0] += 1, a[i][1] += 1; c[++tot] = a[i][1]; } for (int i = 1; i &lt;= m; ++i) { array&lt;int, 4&gt; qi{}; for (int j = 0; j &lt; 4; ++j) { cin &gt;&gt; qi[j]; qi[j] += 1; } // è¯¢é—®å·¦ä¸Šè§’çš„ç‚¹è®°çš„æ˜¯ y_1 - 1 c[++tot] = qi[1] - 1; c[++tot] = qi[3]; q[++t] = {qi[0] - 1, qi[1] - 1, i, 1}; // (x1 - 1, y1 - 1) q[++t] = {qi[0] - 1, qi[3], i, -1}; // (x1 - 1, y2) q[++t] = {qi[2], qi[1] - 1, i, -1}; // (x2, y1 - 1) q[++t] = {qi[2], qi[3], i, 1}; // (x2, y2) } sort(c + 1, c + 1 + tot); tot = unique(c + 1, c + 1 + tot) - (c + 1); for (int i = 1; i &lt;= n; ++i) { a[i][1] = lower_bound(c + 1, c + 1 + tot, a[i][1]) - c; } for (int i = 1; i &lt;= t; ++i) { q[i][1] = lower_bound(c + 1, c + 1 + tot, q[i][1]) - c; } sort(a + 1, a + 1 + n); sort(q + 1, q + 1 + t); for (int i = 1, j = 1; i &lt;= t; ++i) { while (j &lt;= n &amp;&amp; a[j][0] &lt;= q[i][0]) { mdf(a[j++][1], 1); } ans[q[i][2]] += q[i][3] * qry(q[i][1]); } for (int i = 1; i &lt;= m; ++i) { cout &lt;&lt; ans[i] &lt;&lt; &quot;\\n&quot;; } return 0 ^ 0;}","link":"p/2163/"},{"title":"VJ1194","text":"é¢˜æ„ ç”¨ \\(1 \\times 2\\) çš„éª¨ç‰Œå¡«æ»¡ \\(M \\times N\\) çš„çŸ©é˜µæ–¹æ¡ˆæ•°ï¼Œå…¶ä¸­ \\(M \\le 5.\\) \\(N \\in [1, 10 ^ 9]\\) https://vijos.org/p/1194 è§£ç­”1 å‡è®¾å·²ç»æ”¾ç½®äº†è‹¥å¹²ï¼ˆæˆ–æ— ï¼‰éª¨ç‰Œï¼Œä» \\(M\\) è¿™ä¸€ç»´æ¥è€ƒè™‘ï¼Œè¿™äº›éª¨ç‰Œçš„æ‘†æ”¾æ–¹å¼å¯èƒ½æœ‰ \\(2 ^ M\\) ç§ã€‚å†åŠ å…¥è‹¥å¹²ç‰Œï¼Œè¿™ä¸€è¡Œæœ‰å¯èƒ½è¢«å¡«æ»¡å—ï¼Ÿ ç”¨ \\(i, j\\) è¡¨ç¤ºå½“å‰è¡ŒçŠ¶æ€å’Œå¯è¾¾çš„ä¸‹è¡ŒçŠ¶æ€ã€‚æœ‰ä¸¤æ¡é™åˆ¶ï¼š \\(i \\operatorname{or} j = 2 ^ M -1.\\) \\(i \\&amp; j\\) ä¸ºè‹¥å¹²ï¼ˆæˆ–æ— ï¼‰\\(1 \\times 2\\) éª¨ç‰Œã€‚å…·ä½“æ¥è¯´ï¼š \\[ i \\&amp; j \\in \\rm\\{ 0B00000, 0B00011, 0B00110, 0B01100, 0B01111, 0B11000, 0B11011, 0B11110 \\} \\] æœ€ç»ˆå¸Œæœ›æ¯è¡Œéƒ½è½¬åŒ–ä¸ºå…¨ \\(1\\)ï¼Œè¿™å®é™…ä¸Šæ˜¯åœ¨æ±‚ä» \\(\\verb|1..11|\\) åˆ° \\(\\verb|1..11|\\) æ°å¥½ç»è¿‡ \\(N\\) æ­¥çš„è·¯å¾„æ•°é‡ã€‚äºæ˜¯ï¼ŒåŸé—®é¢˜è½¬åŒ–ä¸ºä¸€ä¸ªç»å…¸çš„é—®é¢˜ï¼š \\(\\bm{Floyd}\\) ç®—æ³•ä¸­çš„é‚»æ¥çŸ©é˜µè‡ªä¹˜ \\(k\\) æ¬¡æ„ä¹‰ä¸ºã€Œä» \\(i\\) åˆ° \\(j\\) èµ° \\(k\\) æ­¥å¯è¾¾è·¯å¾„æ•°é‡ã€ã€‚ ä½¿ç”¨çŸ©é˜µä¹˜æ³•å³å¯è§£å†³æ­¤é—®é¢˜ã€‚ å±•å¼€å‚è€ƒä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859#include &lt;bits/stdc++.h&gt;using ll = long long; // &lt;+&gt;using Matrix = std::array&lt;std::array&lt;ll, 1 &lt;&lt; 5&gt;, 1 &lt;&lt; 5&gt;;int limit, mod;void operator *= (Matrix &amp; a, const Matrix &amp; b) { Matrix c {}; for (int i = 0; i &lt; limit; ++i) { for (int j = 0; j &lt; limit; ++j) { for (int k = 0; k &lt; limit; ++k) { c[i][j] = (c[i][j] + a[i][k] * b[k][j] % mod) % mod; } } } a = c;}int main() { std::cin.tie(nullptr) -&gt; sync_with_stdio(false); int n, m; std::cin &gt;&gt; n &gt;&gt; m &gt;&gt; mod; limit = 1 &lt;&lt; m; int s[] { 0B00000, 0B00011, 0B00110, 0B01100, 0B01111, 0B11000, 0B11011, 0B11110, }; Matrix pre {}; for (int i = 0; i &lt; limit; ++i) { for (int j = 0; j &lt; limit; ++j) { // ~- limit = limit - 1 if ((i | j) == ~-limit) { for (int k = 0; k &lt; 8; ++k) { pre[i][j] |= (i &amp; j) == s[k]; } } } } Matrix ans {}; for (int i = 0; i &lt; limit; ++i) { ans[i][i] = 1; } while (n != 0) { if (n &amp; 1) { ans *= pre; } pre *= pre; n &gt;&gt;= 1; } std::cout &lt;&lt; ans[limit - 1][limit - 1] &lt;&lt; &quot;\\n&quot;; return 0 ^ 0;} http://www.matrix67.com/blog/archives/276 å·²ç»ç»™å‡ºè§£ç­”ï¼Œç„¶è€ŒåŸæ–‡éƒ¨åˆ†ä¸¢å¤±ã€‚ æ­¤é“¾æ¥ å¼€å¤´ä¾¿æ˜¯æœ¬é¢˜çš„é¢˜è§£ã€‚â†©ï¸","link":"vj/1194/"},{"title":"åšå®¢ç«™é‡åˆ°çš„è‹¥å¹²é—®é¢˜ä¸è§£å†³","text":"æœ¬æ–‡è®°å½•äº†æ´¾æ´¾é‡åˆ°çš„å„ç§é—®é¢˜ã€‚ å…¬å¼ é¢œè‰²å—æ¸²æŸ“å¤±è´¥ æ–‡ç« è¿æ¥ æ•ˆæœ \\[ \\begin{aligned} ans &amp;= \\sum_{k=1}^{n} \\sum_{a=1}^{\\lfloor n / k \\rfloor} \\sum_{b=1}^{\\lfloor n / k \\rfloor} \\colorbox{ADD8E6}{\\boxed{\\operatorname{lcm}(n-ak-bk,k)}} [\\gcd(a,b)=1] [ak+bk \\le n] \\\\ &amp;= \\sum_{k=1}^{n} \\sum_{a=1}^{\\lfloor n / k \\rfloor} \\sum_{b=1}^{\\lfloor n / k \\rfloor} \\colorbox{ADD8E6}{\\boxed{\\dfrac{k(n-ak-bk)}{\\gcd(k,n)}}} \\colorbox{FFF000}{\\boxed{[\\gcd(a,b)=1]}} [ak+bk \\le n] \\\\ &amp;= \\sum_{k=1}^{n} \\dfrac{k}{\\gcd(k,n)} \\sum_{a=1}^{\\lfloor n / k \\rfloor} \\sum_{b=1}^{\\lfloor n / k \\rfloor} (n - ak - bk)[ak+bk \\le n] \\colorbox{FFF000}{\\boxed{\\sum_{d | \\gcd(a, b)} \\mu(d)}} \\\\ &amp;= \\sum_{k=1}^{n} \\dfrac{k}{\\gcd(k,n)} \\sum_{d=1}^{\\lfloor n / k \\rfloor} \\mu(d) \\sum_{a=1}^{\\lfloor n / kd \\rfloor} \\sum_{b=1}^{\\lfloor n / kd \\rfloor - a} n - akd - bkd \\\\ &amp;= \\sum_{k=1}^{n} \\dfrac{k}{\\gcd(k,n)} \\sum_{d=1}^{\\lfloor{n / k}\\rfloor}\\mu(d)\\left(\\dfrac{n \\lfloor n / kd\\rfloor (\\lfloor n / kd \\rfloor - 1)}{2}+\\dfrac{k d \\lfloor n / kd \\rfloor (1 - {\\lfloor n / kd \\rfloor}^{2})}{3}\\right) \\\\ &amp;= \\sum_{k=1}^{n} \\dfrac{k}{\\gcd(k,n)} \\sum_{d=1}^{b}\\mu(d)\\left(\\dfrac{nt(t - 1)}{2}+\\dfrac{k d t (1 - t^2)}{3}\\right) \\end{aligned} \\] æœªæ¸²æŸ“çš„å…¬å¼ >folded12345678\\begin{aligned} ans &amp;= \\sum_{k=1}^{n} \\sum_{a=1}^{\\lfloor n / k \\rfloor} \\sum_{b=1}^{\\lfloor n / k \\rfloor} \\colorbox{#ADD8E6}{\\boxed{\\operatorname{lcm}(n-ak-bk,k)}} [\\gcd(a,b)=1] [ak+bk \\le n] \\\\&amp;= \\sum_{k=1}^{n} \\sum_{a=1}^{\\lfloor n / k \\rfloor} \\sum_{b=1}^{\\lfloor n / k \\rfloor} \\colorbox{#ADD8E6}{\\boxed{\\dfrac{k(n-ak-bk)}{\\gcd(k,n)}}} \\colorbox{#FFF000}{\\boxed{[\\gcd(a,b)=1]}} [ak+bk \\le n] \\\\ &amp;= \\sum_{k=1}^{n} \\dfrac{k}{\\gcd(k,n)} \\sum_{a=1}^{\\lfloor n / k \\rfloor} \\sum_{b=1}^{\\lfloor n / k \\rfloor} (n - ak - bk)[ak+bk \\le n] \\colorbox{#FFF000}{\\boxed{\\sum_{d | \\gcd(a, b)} \\mu(d)}} \\\\&amp;= \\sum_{k=1}^{n} \\dfrac{k}{\\gcd(k,n)} \\sum_{d=1}^{\\lfloor n / k \\rfloor} \\mu(d) \\sum_{a=1}^{\\lfloor n / kd \\rfloor} \\sum_{b=1}^{\\lfloor n / kd \\rfloor - a} n - akd - bkd \\\\ &amp;= \\sum_{k=1}^{n} \\dfrac{k}{\\gcd(k,n)} \\sum_{d=1}^{\\lfloor{n / k}\\rfloor}\\mu(d)\\left(\\dfrac{n \\lfloor n / kd\\rfloor (\\lfloor n / kd \\rfloor - 1)}{2}+\\dfrac{k d \\lfloor n / kd \\rfloor (1 - {\\lfloor n / kd \\rfloor}^{2})}{3}\\right) \\\\&amp;= \\sum_{k=1}^{n} \\dfrac{k}{\\gcd(k,n)} \\sum_{d=1}^{b}\\mu(d)\\left(\\dfrac{nt(t - 1)}{2}+\\dfrac{k d t (1 - t^2)}{3}\\right)\\end{aligned} è§£å†³ å»æ‰ \\colorbox{#color}{anything} ä¸­çš„ # å³å¯ã€‚","link":"etc/bugs/"},{"title":"äºŒç»´ååºæ¯”è¾ƒ","text":"è¡Œè¡¨ç¤ºç¬¬ä¸€ç»´ï¼Œå³ \\((\\boxed{a_i}, b_i) \\prec (\\boxed{a_j}, b_j)\\)ã€‚ é™¤ç¬¬ä¸€ç»´æ˜¯ \\(\\ge\\) å¤–ï¼Œå…¶ä½™æƒ…å†µè¿˜éœ€æ»¡è¶³å¯é‡ã€‚å¦åˆ™é€€åŒ–ä¸ºæ™®é€šæƒ…å½¢ï¼Œå³ç›´æ¥æŒ‰ç…§ç¬¦å·ï¼ˆä¸å¸¦ç­‰å·ï¼‰æ’ã€‚ \\(\\le\\) \\(\\lt\\) \\(\\ge\\) \\(\\gt\\) \\(\\le\\) é»˜è®¤ æŸ¥è¯¢æ—¶ä½¿ç”¨ query(x-1) ç¦»æ•£åŒ–æ—¶é€†åºæ’åº ç»“åˆ \\(\\lt\\) å’Œ \\(\\ge\\) \\(\\lt\\) ç¬¬äºŒç»´é€†åºæ’åº ç»“åˆ ç»“åˆ ç»“åˆ \\(\\ge\\) ç¬¬ä¸€ç»´é€†åºæ’åº ç»“åˆ ç»“åˆ ç»“åˆ \\(\\gt\\) ä¸¤ç»´éƒ½é€†åºæ’åº ç»“åˆ ç»“åˆ ç»“åˆ","link":"2d-precede-compare/"},{"title":"HEXO åšå®¢ç«™é…ç½®","text":"ä¼˜åŒ–æ°¸ä¹…é“¾æ¥ \\(\\verb|https://example.com/|\\rm\\sout{2022/07/05}\\verb|/anything/|\\) ğŸ“… é»˜è®¤çš„æ°¸ä¹…é“¾æ¥è¿˜æ ‡æ³¨äº†æ—¥æœŸï¼Œå¤§å¤šæ—¶å€™è¿™éƒ½æ˜¯ä¸å¿…è¦çš„ã€‚é¦–å…ˆåœ¨ _config.yml ä¸­è®¾ç½®ï¼š _config.yml12345permalink: ':permalink'permalink_defaults: nullpretty_urls: trailing_index: false trailing_html: false è¿™é‡Œçš„ :permalink è¡¨ç¤ºçš„æ˜¯åœ¨æ¯ç¯‡æ–‡ç« å¼€å¤´çš„ front-matter éƒ¨åˆ†çš„å˜é‡ã€‚ä¾‹å¦‚æœ¬æ–‡å¯¹åº”çš„æ˜¯ï¼š 123456---title: HEXO åšå®¢ç«™é…ç½®date: 2022-08-15 09:47:24permalink: /blogconfig/categories: etc--- è¿™æ ·æ–‡ç« å°±æ²¡æœ‰å†—ä½™çš„æ—¥æœŸä¿¡æ¯äº†ã€‚ æ–°å¢é¡µé¢ \\(\\verb|https://example.com/about/|\\) åœ¨å‘½ä»¤è¡Œä¸­ï¼š 1hexo new page about éšåç¼–è¾‘ source/about/index.md æ–‡ä»¶æ·»åŠ  layout: about ã€‚ æ¥ä¸‹æ¥å¯ä»¥å†™å„ç§å†…å®¹ï¼Œæ•´ç¯‡æ–‡ç« å°†ä¼šæ˜¾ç¤ºåœ¨ https://example.com/about/ ä¸­ã€‚ \\(\\verb|https://example.com/tags/|\\) åŒä¸Šï¼Œä½†å¤šæ•°ä¸»é¢˜è‡ªå¸¦äº† tags çš„å¸ƒå±€ã€‚ \\(\\verb|https://example.com/categories/|\\) åŒä¸Šã€‚ä½†è¿™ä¸ªé¡µé¢ä½œç”¨è¿˜æ˜¯éå¸¸å¤§çš„ï¼Œå¸¸å¸¸å¸Œæœ›åœ¨æŸä¸€é¡µé¢å†…æ”¾ç‰¹å®šä¸»é¢˜çš„æ–‡ç« ï¼Œä¾‹å¦‚ https://example.com/cf/ å°±å¯ä»¥ç›´æ¥åˆ°æ‰€æœ‰ cf ç›¸å…³çš„åšå®¢å†…ã€‚ å…¶å®ï¼Œè¿™å°±æ˜¯åˆ†ç±»é¡µé¢ categories çš„ä½œç”¨ã€‚ \\(\\verb|https://example.com/|\\rm\\sout{categories}\\verb|/anything/|\\) é»˜è®¤çš„åˆ†ç±»é¡µé¢éœ€è¦ç”¨å½¢å¦‚ https://example.com/categories/xxx/ æ¥è®¿é—®ï¼Œè¿™æ ·çš„é“¾æ¥å¹¶ä¸ç¾è§‚ã€‚åœ¨ _config.yml æ–‡ä»¶ä¸­è®¾ç½®ï¼š _config.yml1category_dir: '' è¿™æ ·å°±å¯ä»¥ã€Œæ‘†è„± categoriesã€äº†ï¼ åŒæ—¶ï¼Œè¿™ä¹Ÿå¾ˆå¥½åœ°ä¸ç¬”è€…çš„ permalink ä¹ æƒ¯åŒ¹é…ã€‚ç¬”è€…é€šå¸¸ä¼šä½¿ç”¨ cf/2/a/ è¿™æ ·çš„é“¾æ¥ï¼Œå¦‚æœä¸è¿›è¡Œä¸Šè¿°ä¿®æ”¹ï¼Œå°±ä¸ä¼šæœ‰ /cf/ è¿™ä¸ªé¡µé¢ï¼Œè¿™ä»¤äººæ„Ÿåˆ°ååˆ†ä¸è‡ªç„¶ã€‚","link":"blogconfig/"},{"title":"åšæ–‡é£æ ¼","text":"é…ç½® ğŸ“š é€šè¿‡ \\(\\verb|example.com/xxx/|\\) è¿›å…¥ \\(\\verb|xxx|\\) åˆ†ç±»ï¼Œå¦‚ /acm/ã€‚ ğŸª§ é€šè¿‡ \\(\\verb|example.com/tags/xxx/|\\) æŸ¥çœ‹åŒ…å« \\(\\verb|xxx|\\) æ ‡ç­¾çš„å†…å®¹ã€‚ ç‰¹æ®Šçš„ï¼Œ/tags/AWESOME/ ä¸­æ”¶è—äº†ä¸€äº›ç¬”è€…è®¤ä¸ºå€¼å¾—ä¸€åšçš„é¢˜ã€‚ ğŸ¦œ é€šè¿‡ &lt;!-- more --&gt; åˆ†éš”ã€‚è¿™æ ·å°±å½¢æˆäº†åœ¨ä¸»é¡µä¸­çœ‹åˆ°çš„é¢„è§ˆæ•ˆæœã€‚ æŒ‰ç…§ rating è¿›è¡Œé™åºæ’åºã€‚ å£å» âœ å‡å°‘ã€Œå³å¯ã€ï¼Œã€Œæ˜¾ç„¶ã€ï¼Œã€Œæˆ‘ä»¬ã€å’Œã€Œæˆ‘ã€ç­‰ç”¨è¾ï¼Œå°½é‡å¢æ·»å®¢è§‚ã€ä¹¦é¢æè¿°ã€‚ æ’ç‰ˆ ğŸ“¦ è‹¥ä»£ç å¹¶éè®²è§£å†…å®¹ï¼Œåº”å½“ä½¿ç”¨ \\(\\verb|&lt;details&gt;|\\) æ ‡ç­¾é…åˆ \\(\\verb|&lt;summary&gt;|\\) åŒ…è£¹èµ·æ¥ã€‚ ğŸ’¡ å¼•ç”¨å—é€šå¸¸éƒ½ä¸æ˜¯å¼•ç”¨è€ŒæŒ‡å‡ºé‡è¦å…¬å¼ã€å®šç†ã€‚ \\(\\max\\limits_{i = 1}^N \\varphi(i) = \\varphi(p).\\) å…¶ä¸­ \\(p\\) ä¸º \\(1 \\sim N\\) ä¸­çš„æœ€å¤§ç´ æ•°ã€‚ ğŸ“š ä¸ä½¿ç”¨ \\(\\verb|****|\\) å›´ä½åŠ ç²—å†…å®¹ï¼Œè€Œæ€»ä½¿ç”¨ \\(\\verb|&lt;b&gt;&lt;/b&gt;|\\)ã€‚æ–œä½“ã€åº•çº¿ã€åˆ é™¤çº¿ã€è¡Œå†…ä»£ç äº¦ç„¶ã€‚ ã€°ï¸ ç¬”è€…æœ€è¿‘å–œæ¬¢æ³¢æµªçº¿ å³ &lt;u style=\"text-decoration-style:wavy;\"&gt;&lt;/u&gt; å…¬å¼æ’ç‰ˆ ä½¿ç”¨ \\(\\verb|\\verb|\\) å›´ä½å†™åœ¨ \\(\\LaTeX\\) ä¸­çš„ä»£ç ï¼Œæœ‰çš„æ—¶å€™ä¹Ÿç”¨æ¥å–ä»£ \\(\\verb|&lt;code&gt;&lt;/code&gt;|\\)ã€‚ å¦‚æœè¡Œå†…å…¬å¼åŒ…å«ä¸Šä¸‹é™ï¼Œæ€»ä½¿ç”¨ \\(\\verb|\\limits|\\) ä¿®é¥°ã€‚ ä½¿ç”¨ \\(\\verb|\\dfrac|\\) \\(\\frac{a / b}{ \\sum \\limits _{i = 1} ^ N i ^ 3 } \\rightarrow \\dfrac{a / b}{\\displaystyle\\sum_{i = 1} ^ N i ^ 3}\\) åˆé€‚çš„æ‹¬å·å¤§å°ã€‚æ€»ä½¿ç”¨ \\left \\right \\(\\boxed{\\{ \\dfrac{\\dfrac{a}{c}}{b} \\}} \\rightarrow \\boxed{\\left \\{ \\dfrac{a / c}{b} \\right \\}}\\) å…¬å¼è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ \\(\\color{red}\\verb|\\color|\\) ä¸ \\(\\boxed{\\verb|\\boxed|}\\) æ ‡æ³¨ä¸»è¦å†…å®¹ã€‚ \\(\\cdots\\)","link":"blogstyle/"},{"title":"ç›®å‰çš„ä»£ç é£æ ¼","text":"å¤šæ•°æƒ…å½¢ä¸‹éœ€è¦ä½¿ç”¨ C++20 ä»¥ä¸Šç‰ˆæœ¬ç¼–è¯‘ç¬”è€…çš„ä»£ç ã€‚ ç¬”è€…å°†å‡å°‘å¥‡å¥‡æ€ªæ€ªçš„ä½è¿ç®—å’Œå®å®šä¹‰çš„ä½¿ç”¨ã€‚ä¸‹é¢æ˜¯è¾ƒæ–°æ–‡ç« ä¸­çš„ä»£ç éƒ¨åˆ†ã€‚ å¤§æ‹¬å·é½è¡Œ å°½é‡ä¸å‹è¡Œ å¿…è¦çš„æ³¨é‡Š any.cpp >folded1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include &lt;bits/stdc++.h&gt;using namespace std;using ll = long long;#define R ranges#define RI R::iota_viewint main() { ios::sync_with_stdio(!cin.tie(0)); int n; cin &gt;&gt; n; vector a(n, 0); int pos{}; for (int i : RI(0, n)) { cin &gt;&gt; a[i]; if (a[i] &gt; a[pos]) { pos = i; } } R::rotate(a, a.begin() + pos); // ++top, top--, top é•¿åº¦ä¸Šå®Œèƒœ // push_back pop_back back int top{}; vector stk(n + 1, 0); vector cnt(n + 1, 0); // æ¬¡æ•° // n - 1 å¯¹ç›¸é‚» ll ans{n - 1}; for (int i : RI(1, n)) { // æšä¸¾å³ç«¯ç‚¹ // åŒ¹é…æ›´å¤§çš„å·¦ç«¯ç‚¹ while (top &amp;&amp; stk[top] &lt; a[i]) { ans += cnt[top--]; } // ä¸¥æ ¼é«˜äº -- è¦åˆ¤é‡ if (stk[top] != a[i]) { stk[++top] = a[i]; cnt[top] = 0; } ans += cnt[top]++; } // æœ€åä¸€æ¬¡: åŠ å…¥æœ€å¤§å€¼ while (top &gt; 1) { ans += cnt[top--]; } cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; return 0;} å®é™…ä¸Šç¬”è€…æ²¡æœ‰æ¯”è¾ƒå›ºå®šçš„ä»£ç é£æ ¼ã€‚æœ‰çš„æ—¶å€™ç”šè‡³ä¼šå†™å‡ºä¸‹é¢è¿™æ ·çš„ä»£ç ï¼ˆé€ƒï¼‰ 12345per(i,~-n,0)s+=1,ans+=kuhn(i);if(ans!=n)return puts(&quot;No Answer&quot;),0x0;rep(i,n,~-n&lt;&lt;1|1)L[f[i]]=i-n;rep(i,0,~-n)printf(&quot;%d%c&quot;,L[i],&quot; \\n&quot;[i==n]);","link":"codestyle/"},{"title":"æµ®ç‚¹æ•°çš„æ¯”è¾ƒç¬¦","text":"è®¡ç®—å‡ ä½•ç¬¦å·æ¯”è¾ƒè¡¨ æ„ä¹‰ å†™æ³• \\(a = b\\) fabs(a - b) &lt; epsilon \\(a \\ne b\\) fabs(a - b) &gt; epsilon \\(a &lt; b\\) a - b &lt; - epsilon \\(a \\le b\\) a - b &lt; epsilon \\(a &gt; b\\) a - b &gt; epsilon \\(a \\ge b\\) a - b &gt; - epsilon","link":"double-compare/"},{"title":"è‹¥å¹²æ‚é¢˜ã€æ°´é¢˜","text":"æœ¬æ–‡è®°å½•äº†è‹¥å¹²é¢˜ç›®ï¼Œéš¾ä»¥åˆ†ç±»çš„åŒæ—¶å¾ˆå¯èƒ½ä¹Ÿæ²¡æœ‰ OJ æµ‹ã€‚ æœ‰çš„æ˜¯è®°ä¸æ¸…æ¥æºçš„é¢˜ï¼Œç”šè‡³ä»…ä»…æ˜¯å¬è¿‡ä¸€æ¬¡ï¼Œæœ‰çš„ä¹Ÿå¯èƒ½åªæ˜¯å£èƒ¡çš„é¢˜ï¼Œè¿˜æœ‰çš„åªæ˜¯å› ä¸ºé¢˜ç›®å¤ªæ°´ä½†è¿˜æ˜¯æƒ³æ”¾åœ¨ç½‘ç«™ä¸Šæ‰€ä»¥æŒ‚åœ¨è¿™é‡Œæ‡’å¾—å¦å¼€ä¸€ç¯‡æ–°æ–‡ã€‚ .post-summary { display: none; } å­é›†å’Œ æ¯ä¸€ä¸ªå…ƒç´ åœ¨ \\(2 ^ n\\) ä¸ªå­é›†å‡ºç° \\(2 ^ {n - 1}\\) æ¬¡ï¼Œå› æ­¤ç­”æ¡ˆä¸º \\(2 ^ {n - 1} \\times \\sum\\limits_{i = 1}^n a_i.\\) å­æ®µå’Œ è€ƒè™‘æ¯ä¸€ä¸ªå…ƒç´ å‰é©±åç»§è¦†ç›–åˆ°çš„åŒºé—´æ•°é‡ï¼Œä¸¤éƒ¨åˆ†ç‹¬ç«‹ï¼Œå› æ­¤ç­”æ¡ˆä¸º \\(\\sum\\limits_{i = 1}^n i \\times (n - i) \\times a_i\\) æœ€å°‘ä¿®æ”¹å¤šå°‘æ•°ä½¿å¾—åŸæ•°ç»„éä¸¥æ ¼é€’å¢ è€ƒè™‘è´ªå¿ƒï¼Œ\\(n - \\mathop{\\rm LIS}\\limits_{i=1}^n\\{a_i\\}\\) å³ä¸ºæ‰€æ±‚ã€‚å…¶ä¸­ \\(\\rm LIS\\) éä¸¥æ ¼ã€‚ æœ€å°‘ä¿®æ”¹å¤šå°‘æ•°ä½¿å¾—åŸæ•°ç»„ä¸¥æ ¼é€’å¢ å¦‚æœä¸¤æ•°å¤§å°å…³ç³»ä¸å°äºé—´éš”è·ç¦»ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªç‚¹å¯ä»¥ä¿ç•™ã€‚å½¢å¼åŒ–åœ°è¯´ï¼Œéœ€è¦æ»¡è¶³ï¼š \\[ a_j - a_i \\ge j - i \\Rightarrow a_j - j \\ge a_i - i \\] äºæ˜¯ \\(n - \\mathop{\\rm LIS}\\limits_{i=1}^n\\{a_i - i\\}\\) å³ä¸ºæ‰€æ±‚ã€‚ æœ€å¤§å­æ®µç§¯ éœ€è¦è€ƒè™‘è´Ÿæ•°ï¼Œå› æ­¤ç»´æŠ¤ä¸¤ä¸ªæœ€å€¼ã€‚ max-subarray-product.cpp123456i64 m { a[0] }, M { a[0] }, ans { a[0] };for (int i : a | views::drop(1)) { tie(m, M) = minmax({ i, i * m, i * M }); ans = max(ans, M);}","link":"acm/etc/"}],"tags":[{"name":"æ ‘çŠ¶æ•°ç»„","slug":"æ ‘çŠ¶æ•°ç»„","link":"tags/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/"},{"name":"äºŒç»´ååº","slug":"äºŒç»´ååº","link":"tags/%E4%BA%8C%E7%BB%B4%E5%81%8F%E5%BA%8F/"},{"name":"AWESOME","slug":"AWESOME","link":"tags/AWESOME/"},{"name":"LIS","slug":"LIS","link":"tags/LIS/"},{"name":"nge","slug":"nge","link":"tags/nge/"},{"name":"dp","slug":"dp","link":"tags/dp/"},{"name":"çº¿æ®µæ ‘","slug":"çº¿æ®µæ ‘","link":"tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"},{"name":"STL","slug":"STL","link":"tags/STL/"},{"name":"è´ªå¿ƒ","slug":"è´ªå¿ƒ","link":"tags/%E8%B4%AA%E5%BF%83/"},{"name":"æ„é€ ","slug":"æ„é€ ","link":"tags/%E6%9E%84%E9%80%A0/"},{"name":"äºŒåˆ†","slug":"äºŒåˆ†","link":"tags/%E4%BA%8C%E5%88%86/"},{"name":"æ•°è®º","slug":"æ•°è®º","link":"tags/%E6%95%B0%E8%AE%BA/"},{"name":"ç®—æœ¯åŸºæœ¬å®šç†","slug":"ç®—æœ¯åŸºæœ¬å®šç†","link":"tags/%E7%AE%97%E6%9C%AF%E5%9F%BA%E6%9C%AC%E5%AE%9A%E7%90%86/"},{"name":"æ‹“æ‰‘æ’åº","slug":"æ‹“æ‰‘æ’åº","link":"tags/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F/"},{"name":"ç»„åˆæ•°å­¦","slug":"ç»„åˆæ•°å­¦","link":"tags/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/"},{"name":"æ¬§æ‹‰å‡½æ•°","slug":"æ¬§æ‹‰å‡½æ•°","link":"tags/%E6%AC%A7%E6%8B%89%E5%87%BD%E6%95%B0/"},{"name":"è«æ¯”ä¹Œæ–¯åæ¼”","slug":"è«æ¯”ä¹Œæ–¯åæ¼”","link":"tags/%E8%8E%AB%E6%AF%94%E4%B9%8C%E6%96%AF%E5%8F%8D%E6%BC%94/"},{"name":"åšå¼ˆ","slug":"åšå¼ˆ","link":"tags/%E5%8D%9A%E5%BC%88/"},{"name":"å¼‚æˆ–","slug":"å¼‚æˆ–","link":"tags/%E5%BC%82%E6%88%96/"},{"name":"å‰ç¼€å’Œ","slug":"å‰ç¼€å’Œ","link":"tags/%E5%89%8D%E7%BC%80%E5%92%8C/"},{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","link":"tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"name":"TODO","slug":"TODO","link":"tags/TODO/"},{"name":"è®¡ç®—å‡ ä½•","slug":"è®¡ç®—å‡ ä½•","link":"tags/%E8%AE%A1%E7%AE%97%E5%87%A0%E4%BD%95/"},{"name":"æµ®ç‚¹gcd","slug":"æµ®ç‚¹gcd","link":"tags/%E6%B5%AE%E7%82%B9gcd/"},{"name":"è®°å½•è·¯å¾„","slug":"è®°å½•è·¯å¾„","link":"tags/%E8%AE%B0%E5%BD%95%E8%B7%AF%E5%BE%84/"},{"name":"é˜¿åœ†","slug":"é˜¿åœ†","link":"tags/%E9%98%BF%E5%9C%86/"},{"name":"åˆ‡æ¯”é›ªå¤«è·ç¦»","slug":"åˆ‡æ¯”é›ªå¤«è·ç¦»","link":"tags/%E5%88%87%E6%AF%94%E9%9B%AA%E5%A4%AB%E8%B7%9D%E7%A6%BB/"},{"name":"èƒŒåŒ…","slug":"èƒŒåŒ…","link":"tags/%E8%83%8C%E5%8C%85/"},{"name":"æ¨¡æ‹Ÿ","slug":"æ¨¡æ‹Ÿ","link":"tags/%E6%A8%A1%E6%8B%9F/"},{"name":"æ‹¬å·åºåˆ—","slug":"æ‹¬å·åºåˆ—","link":"tags/%E6%8B%AC%E5%8F%B7%E5%BA%8F%E5%88%97/"},{"name":"trie","slug":"trie","link":"tags/trie/"},{"name":"floydç®—æ³•","slug":"floydç®—æ³•","link":"tags/floyd%E7%AE%97%E6%B3%95/"},{"name":"çŸ©é˜µä¹˜æ³•","slug":"çŸ©é˜µä¹˜æ³•","link":"tags/%E7%9F%A9%E9%98%B5%E4%B9%98%E6%B3%95/"}],"categories":[{"name":"acm","slug":"acm","link":"acm/"},{"name":"51nod","slug":"51nod","link":"51nod/"},{"name":"cf","slug":"cf","link":"cf/"},{"name":"1313","slug":"cf/1313","link":"cf/1313/"},{"name":"1712","slug":"cf/1712","link":"cf/1712/"},{"name":"1407","slug":"cf/1407","link":"cf/1407/"},{"name":"1311","slug":"cf/1311","link":"cf/1311/"},{"name":"1717","slug":"cf/1717","link":"cf/1717/"},{"name":"1320","slug":"cf/1320","link":"cf/1320/"},{"name":"1579","slug":"cf/1579","link":"cf/1579/"},{"name":"1719","slug":"cf/1719","link":"cf/1719/"},{"name":"1","slug":"cf/1","link":"cf/1/"},{"name":"2","slug":"cf/2","link":"cf/2/"},{"name":"3","slug":"cf/3","link":"cf/3/"},{"name":"4","slug":"cf/4","link":"cf/4/"},{"name":"5","slug":"cf/5","link":"cf/5/"},{"name":"nc","slug":"nc","link":"nc/"},{"name":"ec","slug":"ec","link":"ec/"},{"name":"652","slug":"cf/652","link":"cf/652/"},{"name":"p","slug":"p","link":"p/"},{"name":"vj","slug":"vj","link":"vj/"},{"name":"etc","slug":"etc","link":"etc/"},{"name":"11255","slug":"nc/11255","link":"nc/11255/"},{"name":"luogu","slug":"luogu","link":"luogu/"},{"name":"vijos","slug":"vijos","link":"vijos/"}],"pages":[{"title":"æ˜¯æ´¾æ´¾ï¼","text":"â˜ï¸ğŸ’¡ğŸˆ æ­£åœ¨å­¦ä¹  ICPC ç«èµ›ç®—æ³•ï¼Œä¸“æ”»æ•°å­¦ã€‚ä½†å•¥å¥–ä¹Ÿæ²¡å¾—åˆ°ã€‚ ğŸ¤” éå¸¸å‘å¾€ä¸€ä»½å‰ç«¯é¡¹ç›®çš„ç»´æŠ¤å·¥ä½œã€‚å³ä½¿å¯¹å‰ç«¯ä¸€çªä¸é€šã€‚ ğŸ’» æ˜¯ä¸€ä¸ª ArchLinux ç”¨æˆ·ï¼Œå–œæ¬¢æ¢ç´¢æ–°ç©å…·ã€‚ æœ€è¿‘åœ¨å°è¯•ç”¨ Lua é‡å†™è‡ªå·±çš„ Neovim é…ç½®ã€‚ ğŸ’¡ ç»å¸¸æœ‰ä¸€äº›å¥‡æ€ªçš„ç‚¹å­ä¸çƒ¦æ¼ã€‚æ¯”å¦‚æ€ä¹ˆéƒ½åƒä¸èƒ–... åŒæ€§äº¤å‹ç½‘ç«™ æ¨ç‰¹ å“”ç«™ çŸ¥ä¹ åšå®¢ä»‹ç» åšå®¢æ¡†æ¶ä¸º https://hexo.ioã€‚ä¸»é¢˜ï¼š https://github.com/ppoffice/hexo-theme-icarusï¼Œç•¥æœ‰æ”¹åŠ¨ã€‚ é¡µé¢å¯¼èˆª é“¾æ¥ é¢˜è§£ã€åšé¢˜è®°å½• /acm/ æ‚é¢˜ã€æ°´é¢˜è®°å½• /acm/etc/ åšå®¢é…ç½®ã€æ‚é¡¹ /etc/ å‹é“¾ /friends/ å¾…åš /tags/TODO/","link":"index.html"},{"title":"å‹æƒ…é“¾æ¥","text":"åŠ è½½ä¸­ï¼Œç¨ç­‰å‡ ç§’... ç”³è¯·å‹é“¾é¡»çŸ¥ ç”³è¯·è¯·æä¾›ï¼šç«™ç‚¹åç§°ã€ç«™ç‚¹é“¾æ¥ã€ç«™ç‚¹æè¿°ã€logoæˆ–å¤´åƒï¼ˆå…è®¾é˜²ç›—é“¾ï¼‰ã€‚ æ’åä¸åˆ†å…ˆåã€‚åˆ·æ–°åé‡æ’ï¼Œæ›´æ–°ä¿¡æ¯åè¯·ç•™è¨€å‘ŠçŸ¥ã€‚ å®šæœŸæ¸…ç†ä¸ç¬¦åˆè¦æ±‚çš„å‹é“¾ã€‚ ä¸å­˜å‚¨å‹é“¾å›¾ç‰‡ï¼Œè‹¥æœªæä¾›å›¾ç‰‡æˆ–å›¾ç‰‡å¤±æ•ˆä½¿ç”¨é»˜è®¤å›¾ã€‚ æœ¬ç«™å‹é“¾ä¿¡æ¯å¦‚ä¸‹ï¼Œç”³è¯·å‹é“¾å‰è¯·å…ˆæ·»åŠ æœ¬ç«™ä¿¡æ¯ï¼š 1234ç½‘ç«™å›¾æ ‡ï¼šhttps://tau.gay/img/icon.svgç½‘ç«™åç§°ï¼šPiç½‘ç«™åœ°å€ï¼šhttps://tau.gayç½‘ç«™ç®€ä»‹ï¼šç®—æ³•ç«èµ›ï¼Œæ—¥å¸¸è®°å½•ï¼ŒæŠ€æœ¯åˆ†äº«","link":"friends/index.html"},{"title":"Categories","text":"","link":"categories/index.html"},{"title":"","text":"[{\"date\":\"2022-08-22 01:10:20\",\"src\":null,\"name\":\"ä¸´æ¸Š\",\"desc\":\"...\",\"url\":\"https://www.cnblogs.com/Haven-/\"},{\"date\":\"2022-06-22 01:10:20\",\"src\":null,\"name\":\"Bruce12138\",\"desc\":\"...\",\"url\":\"https://bruce12138.com/\"},{\"date\":\"2022-06-22 01:10:20\",\"src\":null,\"name\":\"Ximane's Story\",\"desc\":\"...\",\"url\":\"https://blog.ximena.top/\"},{\"date\":\"2022-06-22 01:10:20\",\"src\":null,\"name\":\"dianhsu\",\"desc\":\"...\",\"url\":\"https://dianhsu.com/\"},{\"date\":\"2022-08-22 01:10:20\",\"src\":\"https://z3.ax1x.com/2021/11/25/oA8JpV.jpg\",\"name\":\"zclll's Blog\",\"desc\":\"Mixologist/ä¸è°ƒå‚çš„MLer/ä¼¦ç†å­¦ä¸æ”¿æ²»å“²å­¦/è¾©æ‰‹/C++/ICPCer/è¶³çƒ/å›´æ£‹\",\"url\":\"https://zclll.com/\"}]","link":"json_data/friend.json"},{"title":"","text":"","link":"tags/index.html"}]}